
  <!DOCTYPE html>


<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<meta name="description" content="Instructions for setting up HMC5883L IMU compass sensors.">
<meta name="keywords" content="HMC5883L">
<meta itemprop="name" content="HMC5883L Magnetometer">
<meta itemprop="description" content="Instructions for setting up HMC5883L IMU compass sensors.">
<meta itemprop="image" content="https://clydebarrow.github.io/esphome-docs/_images/hmc5883l.jpg">
<meta name="twitter:title" content="HMC5883L Magnetometer">
<meta name="twitter:image:src" content="https://clydebarrow.github.io/esphome-docs/_images/hmc5883l.jpg">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@OttoWinter_">
<meta name="twitter:description" content="Instructions for setting up HMC5883L IMU compass sensors.">
<meta property="og:title" content="HMC5883L Magnetometer">
<meta property="og:image" content="https://clydebarrow.github.io/esphome-docs/_images/hmc5883l.jpg">
<meta property="og:type" content="website">
<meta property="og:description" content="Instructions for setting up HMC5883L IMU compass sensors.">

    <title>HMC5883L Magnetometer &#8212; ESPHome</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../../_static/pygments_dark.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="canonical" href="https://clydebarrow.github.io/esphome-docs/components/sensor/hmc5883l.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Home Assistant Sensor" href="homeassistant.html" />
    <link rel="prev" title="The Grove - Laser PM2.5 Sensor (HM3301)" href="hm3301.html" />
  <link rel="stylesheet" href="../../_static/custom.css?hash=ab494674" type="text/css" />
  <link rel="apple-touch-icon" sizes="180x180" href="_static/apple-touch-icon.png">
  <link rel="shortcut icon" href="_static/favicon.ico">
  <link rel="icon" type="image/png" sizes="512x512" href="_static/favicon-512x512.png">
  <link rel="icon" type="image/png" sizes="256x256" href="_static/favicon-256x256.png">
  <link rel="icon" type="image/png" sizes="192x192" href="_static/favicon-192x192.png">
  <link rel="icon" type="image/png" sizes="128x128" href="_static/favicon-128x128.png">
  <link rel="icon" type="image/png" sizes="32x32" href="_static/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="_static/favicon-16x16.png">
  <link rel="manifest" href="_static/site.webmanifest">
  <link rel="mask-icon" href="_static/safari-pinned-tab.svg" color="#646464">
  <meta name="apple-mobile-web-app-title" content="ESPHome">
  <meta name="application-name" content="ESPHome">
  <meta name="msapplication-TileColor" content="#dfdfdf">
  <meta name="msapplication-config" content="_static/browserconfig.xml">
  <meta name="theme-color" content="#dfdfdf">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta property="og:site_name" content="ESPHome">
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo-text.svg" alt="Logo"/>
            </a></p><link href="pagefind/pagefind-ui.css" rel="stylesheet">
<script src="pagefind/pagefind-ui.js"></script>

<div id="search"></div>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({ element: "#search", showSubResults: true });
    });
</script>

  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">HMC5883L Magnetometer</a><ul>
<li><a class="reference internal" href="#configuration-variables">Configuration variables:</a></li>
<li><a class="reference internal" href="#oversampling-options">Oversampling Options</a></li>
<li><a class="reference internal" href="#range-options">Range Options</a></li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

  </div><hr />
<ul>
    <li><a href="https://discord.gg/KhAMKrd" target="_blank">Join the community</a></li>
    <li><a href="https://twitter.com/esphome_" target="_blank">Follow us on Twitter</a></li>
    <li><a href="https://github.com/esphome/esphome" target="_blank">Source Code</a></li>
    <li><a href="mailto:esphome@nabucasa.com">Contact</a> (no support!)</li>
</ul>
ESPHome is an open source project by <a href="https://www.nabucasa.com" target="_blank">Nabu Casa</a>
<ul>
    <li><a href="https://www.netlify.com" target="_blank">This site is powered by Netlify</a></li>
</ul>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
  
  <ul class="breadcrumbs">
      <li><a href="../index.html">Components</a> ➔</li>
      <li><a href="index.html">Sensor Component</a> ➔</li>
      <li>HMC5883L Magnetometer</li>
  </ul>
  


          <div class="body" role="main">
            
  <section id="hmc5883l-magnetometer">
<span id="hmc5883l"></span><h1>HMC5883L Magnetometer<a class="headerlink" href="#hmc5883l-magnetometer" title="Permalink to this heading">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">hmc5883l</span></code> allows you to use your HMC5883L triple-axis magnetometers
(<a class="reference external" href="https://cdn-shop.adafruit.com/datasheets/HMC5883L_3-Axis_Digital_Compass_IC.pdf">datasheet</a>,
<a class="reference external" href="https://www.adafruit.com/product/1746">Adafruit</a>) with ESPHome. The <a class="reference internal" href="../i2c.html#i2c"><span class="std std-ref">I²C Bus</span></a> is required to be set up in your configuration
for this sensor to work.</p>
<figure class="align-center" id="id1">
<a class="reference internal image-reference" href="../../_images/hmc5883l.jpg"><img alt="../../_images/hmc5883l.jpg" src="../../_images/hmc5883l.jpg" style="width: 30.0%;" /></a>
<figcaption>
<p><span class="caption-text">HMC5883L Magnetometer.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example configuration entry</span>
<span class="nt">sensor</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hmc5883l</span>
<span class="w">    </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0x1E</span>
<span class="w">    </span><span class="nt">field_strength_x</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;HMC5883L</span><span class="nv"> </span><span class="s">Field</span><span class="nv"> </span><span class="s">Strength</span><span class="nv"> </span><span class="s">X&quot;</span>
<span class="w">    </span><span class="nt">field_strength_y</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;HMC5883L</span><span class="nv"> </span><span class="s">Field</span><span class="nv"> </span><span class="s">Strength</span><span class="nv"> </span><span class="s">Y&quot;</span>
<span class="w">    </span><span class="nt">field_strength_z</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;HMC5883L</span><span class="nv"> </span><span class="s">Field</span><span class="nv"> </span><span class="s">Strength</span><span class="nv"> </span><span class="s">Z&quot;</span>
<span class="w">    </span><span class="nt">heading</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;HMC5883L</span><span class="nv"> </span><span class="s">Heading&quot;</span>
<span class="w">    </span><span class="nt">oversampling</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1x</span>
<span class="w">    </span><span class="nt">range</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">130uT</span>
<span class="w">    </span><span class="nt">update_interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">60s</span>
</pre></div>
</div>
<section id="configuration-variables">
<h2>Configuration variables:<a class="headerlink" href="#configuration-variables" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><strong>address</strong> (<em>Optional</em>, int): Manually specify the I²C address of the sensor. Defaults to <code class="docutils literal notranslate"><span class="pre">0x1E</span></code>.</p></li>
<li><p><strong>field_strength_x</strong> (<em>Optional</em>): The field strength in microtesla along the X-Axis. All options from
<a class="reference internal" href="index.html#config-sensor"><span class="std std-ref">Sensor</span></a>.</p></li>
<li><p><strong>field_strength_y</strong> (<em>Optional</em>): The field strength in microtesla along the Y-Axis. All options from
<a class="reference internal" href="index.html#config-sensor"><span class="std std-ref">Sensor</span></a>.</p></li>
<li><p><strong>field_strength_z</strong> (<em>Optional</em>): The field strength in microtesla along the Z-Axis. All options from
<a class="reference internal" href="index.html#config-sensor"><span class="std std-ref">Sensor</span></a>.</p></li>
<li><p><strong>heading</strong> (<em>Optional</em>): The heading of the sensor in degrees. All options from
<a class="reference internal" href="index.html#config-sensor"><span class="std std-ref">Sensor</span></a>.</p></li>
<li><p><strong>oversampling</strong> (<em>Optional</em>): The oversampling parameter for the sensor.</p></li>
<li><p><strong>update_interval</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-time"><span class="std std-ref">Time</span></a>): The interval to check the sensor. Defaults to <code class="docutils literal notranslate"><span class="pre">60s</span></code>.</p></li>
<li><p><strong>oversampling</strong> (<em>Optional</em>): Number of readings to average over for each sample. One of <code class="docutils literal notranslate"><span class="pre">1x</span></code>, <code class="docutils literal notranslate"><span class="pre">2x</span></code>,
<code class="docutils literal notranslate"><span class="pre">4x</span></code>, <code class="docutils literal notranslate"><span class="pre">8x</span></code>. Defaults to <code class="docutils literal notranslate"><span class="pre">1x</span></code>.</p></li>
<li><p><strong>range</strong> (<em>Optional</em>): Select a range / gain preset. This does not affect the scale of the values published
but allows one to avoid overflows at the cost of reading resolution. Supported values are 88µT, 130µT, 190µT,
250µT, 400µT, 470µT, 560µT, 810µT. Default range is ±130µT.</p></li>
<li><p><strong>id</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): Manually specify the ID used for code generation.</p></li>
</ul>
</section>
<section id="oversampling-options">
<h2>Oversampling Options<a class="headerlink" href="#oversampling-options" title="Permalink to this heading">¶</a></h2>
<p>By default, the HMC5883L sensor measures each value 1 times when requesting a new value. You can, however,
configure this amount. The result is the sensor will take the adverage of the x samples. Possible oversampling values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">1x</span></code> (default)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2x</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4x</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">8x</span></code></p></li>
</ul>
</section>
<section id="range-options">
<h2>Range Options<a class="headerlink" href="#range-options" title="Permalink to this heading">¶</a></h2>
<p>By default, the HMC5883L sensor measurement range is 130uT. You can, however,
configure this amount. Possible values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">88uT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">130uT</span></code> (default)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">190uT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">250uT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">400uT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">470uT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">560uT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">810uT</span></code></p></li>
</ul>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="index.html#sensor-filters"><span class="std std-ref">Sensor Filters</span></a></p></li>
<li><p><a class="reference internal" href="template.html"><span class="doc">Template Sensor</span></a></p></li>
<li><p><a class="reference external" href="/api/hmc5883l_8h.html">API Reference</a></p></li>
<li><p><a class="reference external" href="https://github.com/jarzebski/Arduino-HMC5883L">HMC5883L Library</a> by <a class="reference external" href="https://github.com/jarzebski">Korneliusz Jarzębski</a></p></li>
<li><p><a class="reference external" href="https://github.com/esphome/esphome-docs/blob/current/components/sensor/hmc5883l.rst">Edit this page on GitHub</a></p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
  <div id="upgrade-footer">
    A new version has been release since you last visited this page: 2023.8.3 🎉
    <div class="footer-button-container">
      <div role="button" id="upgrade-footer-dismiss" class="footer-button">Dismiss</div>
      <a id="upgrade-footer-changelog" class="footer-button" href="changelog/2023.8.0.html">View Changelog</a>
    </div>
  </div>
  <script>
    var old = window.localStorage.getItem("version");
    if (old === null || window.location.pathname.lastIndexOf("changelog/", 0) === 0) { window.localStorage.setItem("version", "2023.8");
    } else if (old !== "2023.8") {
      const footerEl = document.getElementById("upgrade-footer");
      footerEl.classList.add("not-hidden");
      footerEl.addEventListener('click', function () {
        window.localStorage.setItem("version", "2023.8");
        footerEl.classList.remove("not-hidden");
      });
    }
  </script>

  </body>
</html>