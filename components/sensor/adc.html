
  <!DOCTYPE html>


<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<meta name="description" content="Instructions for setting up built-in analog voltage sensors.">
<meta itemprop="name" content="Analog To Digital Sensor">
<meta itemprop="description" content="Instructions for setting up built-in analog voltage sensors.">
<meta itemprop="image" content="https://esphome.io/_images/flash.png">
<meta name="twitter:title" content="Analog To Digital Sensor">
<meta name="twitter:image:src" content="https://esphome.io/_images/flash.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@OttoWinter_">
<meta name="twitter:description" content="Instructions for setting up built-in analog voltage sensors.">
<meta property="og:title" content="Analog To Digital Sensor">
<meta property="og:image" content="https://esphome.io/_images/flash.png">
<meta property="og:type" content="website">
<meta property="og:description" content="Instructions for setting up built-in analog voltage sensors.">

    <title>Analog To Digital Sensor &#8212; ESPHome</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../../_static/pygments_dark.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="canonical" href="https://esphome.io/components/sensor/adc.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="ADC128S102 8-Channel 12-Bit A/D Converter" href="adc128s102.html" />
    <link rel="prev" title="Absolute Humidity" href="absolute_humidity.html" />
  <link rel="stylesheet" href="../../_static/custom.css?hash=ab494674" type="text/css" />
  <link rel="apple-touch-icon" sizes="180x180" href="/_static/apple-touch-icon.png">
  <link rel="shortcut icon" href="/_static/favicon.ico">
  <link rel="icon" type="image/png" sizes="512x512" href="/_static/favicon-512x512.png">
  <link rel="icon" type="image/png" sizes="256x256" href="/_static/favicon-256x256.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/_static/favicon-192x192.png">
  <link rel="icon" type="image/png" sizes="128x128" href="/_static/favicon-128x128.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/_static/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/_static/favicon-16x16.png">
  <link rel="manifest" href="/_static/site.webmanifest">
  <link rel="mask-icon" href="/_static/safari-pinned-tab.svg" color="#646464">
  <meta name="apple-mobile-web-app-title" content="ESPHome">
  <meta name="application-name" content="ESPHome">
  <meta name="msapplication-TileColor" content="#dfdfdf">
  <meta name="msapplication-config" content="/_static/browserconfig.xml">
  <meta name="theme-color" content="#dfdfdf">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta property="og:site_name" content="ESPHome">
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo-text.svg" alt="Logo"/>
            </a></p><link href="/pagefind/pagefind-ui.css" rel="stylesheet">
<script src="/pagefind/pagefind-ui.js"></script>

<div id="search"></div>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({ element: "#search", showSubResults: true });
    });
</script>

  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Analog To Digital Sensor</a><ul>
<li><a class="reference internal" href="#configuration-variables">Configuration variables:</a></li>
<li><a class="reference internal" href="#esp32-attenuation">ESP32 Attenuation</a></li>
<li><a class="reference internal" href="#esp32-pins">ESP32 pins</a></li>
<li><a class="reference internal" href="#different-esp32-adc-behavior-since-2021-11">Different ESP32-ADC behavior since 2021.11</a></li>
<li><a class="reference internal" href="#esp8266-measuring-vcc">ESP8266 Measuring VCC</a></li>
<li><a class="reference internal" href="#rp2040-internal-core-temperature">RP2040 Internal Core Temperature</a></li>
<li><a class="reference internal" href="#multiple-adc-sensors">Multiple ADC Sensors</a></li>
<li><a class="reference internal" href="#measuring-battery-voltage-on-the-firebeetle-esp32-e">Measuring battery voltage on the Firebeetle ESP32-E</a></li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

  </div><hr />
<ul>
    <li><a href="https://discord.gg/KhAMKrd" target="_blank">Join the community</a></li>
    <li><a href="https://twitter.com/esphome_" target="_blank">Follow us on Twitter</a></li>
    <li><a href="https://github.com/esphome/esphome" target="_blank">Source Code</a></li>
    <li><a href="mailto:esphome@nabucasa.com">Contact</a> (no support!)</li>
</ul>
ESPHome is an open source project by <a href="https://www.nabucasa.com" target="_blank">Nabu Casa</a>
<ul>
    <li><a href="https://www.netlify.com" target="_blank">This site is powered by Netlify</a></li>
</ul>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
  
  <ul class="breadcrumbs">
      <li><a href="../index.html">Components</a> ➔</li>
      <li><a href="index.html">Sensor Component</a> ➔</li>
      <li>Analog To Digital Sensor</li>
  </ul>
  


          <div class="body" role="main">
            
  <section id="analog-to-digital-sensor">
<h1>Analog To Digital Sensor<a class="headerlink" href="#analog-to-digital-sensor" title="Permalink to this heading">¶</a></h1>
<p>The Analog To Digital (<code class="docutils literal notranslate"><span class="pre">adc</span></code>) Sensor allows you to use the built-in
ADC in your device to measure a voltage on certain pins.</p>
<ul class="simple">
<li><p>ESP8266: Only pin A0 (GPIO17) can be used.</p></li>
<li><p>ESP32: GPIO32 through GPIO39 can be used.</p></li>
<li><p>RP2040: GPIO26 through GPIO29 can be used.</p></li>
</ul>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/adc-ui.png"><img alt="../../_images/adc-ui.png" src="../../_images/adc-ui.png" style="width: 80.0%;" /></a>
</figure>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example configuration entry</span>
<span class="nt">sensor</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">adc</span>
<span class="w">    </span><span class="nt">pin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">A0</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Living</span><span class="nv"> </span><span class="s">Room</span><span class="nv"> </span><span class="s">Brightness&quot;</span>
<span class="w">    </span><span class="nt">update_interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">60s</span>
</pre></div>
</div>
<section id="configuration-variables">
<h2>Configuration variables:<a class="headerlink" href="#configuration-variables" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><strong>pin</strong> (<strong>Required</strong>, <a class="reference internal" href="../../guides/configuration-types.html#config-pin"><span class="std std-ref">Pin</span></a>): The pin to measure the voltage on.
Or on the ESP8266 alternatively also <code class="docutils literal notranslate"><span class="pre">VCC</span></code>, see <a class="reference internal" href="#adc-esp8266-vcc"><span class="std std-ref">ESP8266 Measuring VCC</span></a>.</p></li>
<li><p><strong>name</strong> (<strong>Required</strong>, string): The name of the voltage sensor.</p></li>
<li><p><strong>attenuation</strong> (<em>Optional</em>): Only on ESP32. Specify the ADC
attenuation to use. See <a class="reference internal" href="#adc-esp32-attenuation"><span class="std std-ref">ESP32 Attenuation</span></a>. Defaults to <code class="docutils literal notranslate"><span class="pre">0db</span></code>.</p></li>
<li><p><strong>raw</strong> (<em>Optional</em>): Allows to read the raw ADC output without any conversion or calibration. See <a class="reference internal" href="#adc-raw"><span class="std std-ref">Different ESP32-ADC behavior since 2021.11</span></a>. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>update_interval</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-time"><span class="std std-ref">Time</span></a>): The interval
to check the sensor. Defaults to <code class="docutils literal notranslate"><span class="pre">60s</span></code>.</p></li>
<li><p><strong>id</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): Manually specify the ID used for code generation.</p></li>
<li><p>All other options from <a class="reference internal" href="index.html#config-sensor"><span class="std std-ref">Sensor</span></a>.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This component prints the voltage as seen by the chip pin. On the ESP8266, this is always 0.0V to 1.0V
Some development boards like the Wemos D1 mini include external voltage divider circuitry to scale down
a 3.3V input signal to the chip-internal 1.0V. If your board has this circuitry, add a multiply filter to
get correct values:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">sensor</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">adc</span>
<span class="w">    </span><span class="c1"># ...</span>
<span class="w">    </span><span class="nt">filters</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">multiply</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3.3</span>
</pre></div>
</div>
</div>
</section>
<section id="esp32-attenuation">
<span id="adc-esp32-attenuation"></span><h2>ESP32 Attenuation<a class="headerlink" href="#esp32-attenuation" title="Permalink to this heading">¶</a></h2>
<p>On the ESP32 the voltage measured with the ADC caps out at ~1.1V by default as the sensing range (attenuation of the ADC) is set to <code class="docutils literal notranslate"><span class="pre">0db</span></code> by default.
Measuring higher voltages requires setting <code class="docutils literal notranslate"><span class="pre">attenuation</span></code> to one of the following values: <code class="docutils literal notranslate"><span class="pre">0db</span></code>, <code class="docutils literal notranslate"><span class="pre">2.5db</span></code>, <code class="docutils literal notranslate"><span class="pre">6db</span></code>, <code class="docutils literal notranslate"><span class="pre">11db</span></code>.
There’s more information <a class="reference external" href="https://docs.espressif.com/projects/esp-idf/en/v4.4.2/esp32/api-reference/peripherals/adc.html#_CPPv425adc1_config_channel_atten14adc1_channel_t11adc_atten_t">at the manufacturer’s website</a>.</p>
<p>To simplify this, we provide the setting <code class="docutils literal notranslate"><span class="pre">attenuation:</span> <span class="pre">auto</span></code> for an automatic/seamless transition among scales. <a class="reference external" href="https://github.com/esphome/esphome/blob/dev/esphome/components/adc/adc_sensor.cpp">Our implementation</a> combines all available ranges to allow the best resolution without having to compromise on a specific attenuation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In our tests, the usable ADC range was from ~0.075V to ~3.12V (with the <code class="docutils literal notranslate"><span class="pre">attenuation:</span> <span class="pre">auto</span></code> setting), and anything outside that range capped out at either end.
Even though the measurements are calibrated, the range <em>limits</em> are variable among chips due to differences in the internal voltage reference.</p>
</div>
</section>
<section id="esp32-pins">
<span id="adc-esp32-pins"></span><h2>ESP32 pins<a class="headerlink" href="#esp32-pins" title="Permalink to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">ADC2</span></code> pins are only usable when Wi-Fi is not configured on the device.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Variant</p></th>
<th class="head"><p>ADC1</p></th>
<th class="head"><p>ADC2</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ESP32</p></td>
<td><p>GPIO32 - GPIO39</p></td>
<td><p>GPIO0, GPIO2, GPIO4, GPIO12 - GPIO15, GPIO25 - GPIO27</p></td>
</tr>
<tr class="row-odd"><td><p>ESP32-C3</p></td>
<td><p>GPIO0 - GPIO4</p></td>
<td><p>GPIO5</p></td>
</tr>
<tr class="row-even"><td><p>ESP32-S2</p></td>
<td><p>GPIO1 - GPIO10</p></td>
<td><p>GPIO11 - GPIO20</p></td>
</tr>
<tr class="row-odd"><td><p>ESP32-S3</p></td>
<td><p>GPIO1 - GPIO10</p></td>
<td><p>GPIO11 - GPIO20</p></td>
</tr>
</tbody>
</table>
</section>
<section id="different-esp32-adc-behavior-since-2021-11">
<span id="adc-raw"></span><h2>Different ESP32-ADC behavior since 2021.11<a class="headerlink" href="#different-esp32-adc-behavior-since-2021-11" title="Permalink to this heading">¶</a></h2>
<p>The ADC output reads voltage very accurately since 2021.11 where manufacturer calibration was incorporated. Before this every ESP32 would read different voltages and be largely inaccurate/nonlinear. Users with a manually calibrated setup are encouraged to check their installations to ensure proper output.
For users that don’t need a precise voltage reading, the “raw” output option allows to have the raw ADC values (0-4095 for ESP32) prior to manufacturer calibration. It is possible to get the old uncalibrated measurements with a filter multiplier:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># To replicate old uncalibrated output, set raw:true and keep only one of the multiplier lines.</span>
<span class="nt">raw</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">filters</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">multiply</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.00026862</span><span class="w"> </span><span class="c1"># 1.1/4095, for attenuation 0db</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">multiply</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.00036630</span><span class="w"> </span><span class="c1"># 1.5/4095, for attenuation 2.5db</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">multiply</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.00053724</span><span class="w"> </span><span class="c1"># 2.2/4095, for attenuation 6db</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">multiply</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.00095238</span><span class="w"> </span><span class="c1"># 3.9/4095, for attenuation 11db</span>
<span class="w">  </span><span class="c1"># your existing filters would go here</span>
</pre></div>
</div>
<p>Note we don’t recommend this method as it will change between chips, and newer ESP32 modules have different ranges (i.e. 0-8191); it is better to use the new calibrated voltages and update any existing filters accordingly.</p>
</section>
<section id="esp8266-measuring-vcc">
<span id="adc-esp8266-vcc"></span><h2>ESP8266 Measuring VCC<a class="headerlink" href="#esp8266-measuring-vcc" title="Permalink to this heading">¶</a></h2>
<p>On the ESP8266 you can even measure the voltage the <em>chip is getting</em>. This can be useful in situations
where you want to shut down the chip if the voltage is low when using a battery.</p>
<p>To measure the VCC voltage, set <code class="docutils literal notranslate"><span class="pre">pin:</span></code> to <code class="docutils literal notranslate"><span class="pre">VCC</span></code> and make sure nothing is connected to the <code class="docutils literal notranslate"><span class="pre">A0</span></code> pin.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To avoid confusion: It measures the voltage at the chip, and not at the VCC pin of the board. It should usually be around 3.3V.</p>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">sensor</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">adc</span>
<span class="w">    </span><span class="nt">pin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">VCC</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;VCC</span><span class="nv"> </span><span class="s">Voltage&quot;</span>
</pre></div>
</div>
</section>
<section id="rp2040-internal-core-temperature">
<h2>RP2040 Internal Core Temperature<a class="headerlink" href="#rp2040-internal-core-temperature" title="Permalink to this heading">¶</a></h2>
<p>The RP2040 has an internal temperature sensor that can be used to measure the core temperature. This sensor is not available on the GPIO pins, but is available on the internal ADC.
The below code is how you can access the temperature and expose as a sensor. The filter values are taken from the RP2040 datasheet to calculate Voltage to Celcius.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">sensor</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">adc</span>
<span class="w">    </span><span class="nt">pin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TEMPERATURE</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Core</span><span class="nv"> </span><span class="s">Temperature&quot;</span>
<span class="w">    </span><span class="nt">unit_of_measurement</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;°C&quot;</span>
<span class="w">    </span><span class="nt">filters</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">lambda</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">return 27 - (x - 0.706f) / 0.001721f;</span>
</pre></div>
</div>
</section>
<section id="multiple-adc-sensors">
<h2>Multiple ADC Sensors<a class="headerlink" href="#multiple-adc-sensors" title="Permalink to this heading">¶</a></h2>
<p>You can only use as many ADC sensors as your device can support. The ESP8266 only has one ADC and can only handle one sensor at a time. For example, on the ESP8266, you can measure the value of an analog pin (A0 on ESP8266) or VCC (see above) but NOT both simultaneously. Using both at the same time will result in incorrect sensor values.</p>
</section>
<section id="measuring-battery-voltage-on-the-firebeetle-esp32-e">
<h2>Measuring battery voltage on the Firebeetle ESP32-E<a class="headerlink" href="#measuring-battery-voltage-on-the-firebeetle-esp32-e" title="Permalink to this heading">¶</a></h2>
<p>This board has a internal voltage divider and the battery voltage can easily be measured like this using 11dB attenuation
on GPIO34.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">adc</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Battery</span><span class="nv"> </span><span class="s">voltage&quot;</span>
<span class="w">  </span><span class="nt">pin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GPIO34</span>
<span class="w">  </span><span class="nt">accuracy_decimals</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">  </span><span class="nt">update_interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">60s</span>
<span class="w">  </span><span class="nt">attenuation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">11dB</span>
<span class="w">  </span><span class="nt">filters</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">multiply</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.0</span><span class="w">  </span><span class="c1"># The voltage divider requires us to multiply by 2</span>
</pre></div>
</div>
<p>This works on SKU:DFR0654. For more information see: <a class="reference external" href="https://wiki.dfrobot.com/FireBeetle_Board_ESP32_E_SKU_DFR0654">manufacturer’s website</a>.</p>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="index.html#sensor-filters"><span class="std std-ref">Sensor Filters</span></a></p></li>
<li><p><a class="reference internal" href="ads1115.html"><span class="doc">ADS1115 4-Channel 16-Bit A/D Converter</span></a></p></li>
<li><p><a class="reference internal" href="max6675.html"><span class="doc">MAX6675 K-Type Thermocouple Temperature Sensor</span></a></p></li>
<li><p><a class="reference external" href="/api/adc__sensor_8h.html">API Reference</a></p></li>
<li><p><a class="reference external" href="https://github.com/esphome/esphome-docs/blob/current/components/sensor/adc.rst">Edit this page on GitHub</a></p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
  <div id="upgrade-footer">
    A new version has been release since you last visited this page: 2023.8.3 🎉
    <div class="footer-button-container">
      <div role="button" id="upgrade-footer-dismiss" class="footer-button">Dismiss</div>
      <a id="upgrade-footer-changelog" class="footer-button" href="/changelog/2023.8.0.html">View Changelog</a>
    </div>
  </div>
  <script>
    var old = window.localStorage.getItem("version");
    if (old === null || window.location.pathname.lastIndexOf("/changelog/", 0) === 0) { window.localStorage.setItem("version", "2023.8");
    } else if (old !== "2023.8") {
      const footerEl = document.getElementById("upgrade-footer");
      footerEl.classList.add("not-hidden");
      footerEl.addEventListener('click', function () {
        window.localStorage.setItem("version", "2023.8");
        footerEl.classList.remove("not-hidden");
      });
    }
  </script>

  </body>
</html>