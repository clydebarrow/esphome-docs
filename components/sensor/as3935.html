
  <!DOCTYPE html>


<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<meta name="description" content="Instructions for setting up AS3935 lightning sensor">
<meta name="keywords" content="as3935">
<meta itemprop="name" content="AMS AS3935 Franklin Lightning Sensor">
<meta itemprop="description" content="Instructions for setting up AS3935 lightning sensor">
<meta itemprop="image" content="https://esphome.io/_images/as3935.jpg">
<meta name="twitter:title" content="AMS AS3935 Franklin Lightning Sensor">
<meta name="twitter:image:src" content="https://esphome.io/_images/as3935.jpg">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@OttoWinter_">
<meta name="twitter:description" content="Instructions for setting up AS3935 lightning sensor">
<meta property="og:title" content="AMS AS3935 Franklin Lightning Sensor">
<meta property="og:image" content="https://esphome.io/_images/as3935.jpg">
<meta property="og:type" content="website">
<meta property="og:description" content="Instructions for setting up AS3935 lightning sensor">

    <title>AMS AS3935 Franklin Lightning Sensor &#8212; ESPHome</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../../_static/pygments_dark.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="canonical" href="https://esphome.io/components/sensor/as3935.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="AS7341 Spectral Color Sensor" href="as7341.html" />
    <link rel="prev" title="APDS9960 Sensor" href="apds9960.html" />
  <link rel="stylesheet" href="../../_static/custom.css?hash=ab494674" type="text/css" />
  <link rel="apple-touch-icon" sizes="180x180" href="/_static/apple-touch-icon.png">
  <link rel="shortcut icon" href="/_static/favicon.ico">
  <link rel="icon" type="image/png" sizes="512x512" href="/_static/favicon-512x512.png">
  <link rel="icon" type="image/png" sizes="256x256" href="/_static/favicon-256x256.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/_static/favicon-192x192.png">
  <link rel="icon" type="image/png" sizes="128x128" href="/_static/favicon-128x128.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/_static/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/_static/favicon-16x16.png">
  <link rel="manifest" href="/_static/site.webmanifest">
  <link rel="mask-icon" href="/_static/safari-pinned-tab.svg" color="#646464">
  <meta name="apple-mobile-web-app-title" content="ESPHome">
  <meta name="application-name" content="ESPHome">
  <meta name="msapplication-TileColor" content="#dfdfdf">
  <meta name="msapplication-config" content="/_static/browserconfig.xml">
  <meta name="theme-color" content="#dfdfdf">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta property="og:site_name" content="ESPHome">
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo-text.svg" alt="Logo"/>
            </a></p><link href="/pagefind/pagefind-ui.css" rel="stylesheet">
<script src="/pagefind/pagefind-ui.js"></script>

<div id="search"></div>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({ element: "#search", showSubResults: true });
    });
</script>

  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">AMS AS3935 Franklin Lightning Sensor</a><ul>
<li><a class="reference internal" href="#component-hub">Component/Hub</a></li>
<li><a class="reference internal" href="#module-pins">Module Pins</a></li>
<li><a class="reference internal" href="#over-spi">Over SPI</a><ul>
<li><a class="reference internal" href="#configuration-variables">Configuration variables:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#over-i2c">Over I²C</a><ul>
<li><a class="reference internal" href="#id1">Configuration variables:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sensor">Sensor</a></li>
<li><a class="reference internal" href="#binary-sensor">Binary Sensor</a></li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

  </div><hr />
<ul>
    <li><a href="https://discord.gg/KhAMKrd" target="_blank">Join the community</a></li>
    <li><a href="https://twitter.com/esphome_" target="_blank">Follow us on Twitter</a></li>
    <li><a href="https://github.com/esphome/esphome" target="_blank">Source Code</a></li>
    <li><a href="mailto:esphome@nabucasa.com">Contact</a> (no support!)</li>
</ul>
ESPHome is an open source project by <a href="https://www.nabucasa.com" target="_blank">Nabu Casa</a>
<ul>
    <li><a href="https://www.netlify.com" target="_blank">This site is powered by Netlify</a></li>
</ul>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
  
  <ul class="breadcrumbs">
      <li><a href="../index.html">Components</a> ➔</li>
      <li><a href="index.html">Sensor Component</a> ➔</li>
      <li>AMS AS3935 Franklin Lightning Sensor</li>
  </ul>
  


          <div class="body" role="main">
            
  <section id="ams-as3935-franklin-lightning-sensor">
<h1>AMS AS3935 Franklin Lightning Sensor<a class="headerlink" href="#ams-as3935-franklin-lightning-sensor" title="Permalink to this heading">¶</a></h1>
<p>The <strong>AS3935</strong> sensor platform allows you to use your AS3935 sensor
(<a class="reference external" href="https://de.aliexpress.com/af/as3935.html?SearchText=as3935">AliExpress</a>, <a class="reference external" href="https://ams.com/as3935">AMS_AS3935</a>)
in order to get notified when a thunderstorm is getting close.</p>
<p>The AS3935 can detect the presence of lightning activity and provide an estimation
on the distance to the head of the storm. The chip issues a notification through an interrupt
pin.</p>
<section id="component-hub">
<h2>Component/Hub<a class="headerlink" href="#component-hub" title="Permalink to this heading">¶</a></h2>
<p>The AS3935 can be configured to use either the SPI <strong>or</strong> I²C protocol for data communication.
First choose which communication method you want to use for the sensor, set the SI pin for the appropriate
level and set up the ESPHome integration for the chosen communication method.</p>
</section>
<section id="module-pins">
<h2>Module Pins<a class="headerlink" href="#module-pins" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Module Pin</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VCC/VDD</p></td>
<td><p>Positive supply voltage</p></td>
</tr>
<tr class="row-odd"><td><p>GND</p></td>
<td><p>Ground</p></td>
</tr>
<tr class="row-even"><td><p>SCL</p></td>
<td><p>I²C clock bus or SPI clock bus (according to SI setting)</p></td>
</tr>
<tr class="row-odd"><td><p>MOSI</p></td>
<td><p>I²C data bus or SPI data input bus (according to SI setting)</p></td>
</tr>
<tr class="row-even"><td><p>MISO</p></td>
<td><p>SPI data output bus</p></td>
</tr>
<tr class="row-odd"><td><p>CS</p></td>
<td><p>Chip Select (active low)</p></td>
</tr>
<tr class="row-even"><td><p>SI</p></td>
<td><p>Select Interface (GND → SPI or VDD → I²C)</p></td>
</tr>
<tr class="row-odd"><td><p>IRQ</p></td>
<td><p>Interrupt (out)</p></td>
</tr>
<tr class="row-even"><td><p>EN_V</p></td>
<td><p>Voltage Regulator Enable</p></td>
</tr>
<tr class="row-odd"><td><p>A0</p></td>
<td><p>I²C address selection LSB</p></td>
</tr>
<tr class="row-even"><td><p>A1</p></td>
<td><p>I²C address selection MSB</p></td>
</tr>
</tbody>
</table>
<figure class="align-center" id="id2">
<a class="reference internal image-reference" href="../../_images/as39351.jpg"><img alt="../../_images/as39351.jpg" src="../../_images/as39351.jpg" style="width: 50.0%;" /></a>
<figcaption>
<p><span class="caption-text">AS3935 Lightning Sensor.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="over-spi">
<h2>Over SPI<a class="headerlink" href="#over-spi" title="Permalink to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">as3935_spi</span></code> sensor platform allows you to use your AS3935 sensor
(<a class="reference external" href="https://de.aliexpress.com/af/as3935.html?SearchText=as3935">AliExpress</a>, <a class="reference external" href="https://ams.com/as3935">AMS_AS3935</a>) in order to get notified when a thunderstorm is getting close.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example configuration for SPI (decide for one!)</span>
<span class="nt">as3935_spi</span><span class="p">:</span>
<span class="w">  </span><span class="nt">cs_pin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GPIO12</span>
<span class="w">  </span><span class="nt">irq_pin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GPIO13</span>
<span class="c1"># Example lightning and energy sensor</span>
<span class="nt">sensor</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">as3935</span>
<span class="w">    </span><span class="nt">lightning_energy</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Lightning</span><span class="nv"> </span><span class="s">Energy&quot;</span>
<span class="w">    </span><span class="nt">distance</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Distance</span><span class="nv"> </span><span class="s">Storm&quot;</span>
<span class="nt">binary_sensor</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">as3935</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Storm</span><span class="nv"> </span><span class="s">Alert&quot;</span>
</pre></div>
</div>
<section id="configuration-variables">
<h3>Configuration variables:<a class="headerlink" href="#configuration-variables" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>cs_pin</strong> (<strong>Required</strong>, <a class="reference internal" href="../../guides/configuration-types.html#config-pin-schema"><span class="std std-ref">Pin Schema</span></a>): The chip select pin.</p></li>
<li><p><strong>irq_pin</strong> (<strong>Required</strong>, <a class="reference internal" href="../../guides/configuration-types.html#config-pin"><span class="std std-ref">Pin</span></a>): The IRQ pin, which indicates if a lightning strike has been detected.</p></li>
<li><p><strong>indoor</strong> (<em>Optional</em>, boolean): Indicates if the sensor is used indoor. Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p><strong>noise_level</strong> (<em>Optional</em>, int): Noise floor level is compared to known reference voltage.
If this level is exceeded the chip will issue an interrupt to the IRQ pin, broadcasting that it can not
operate properly due to noise (INT_NH). Defaults to <code class="docutils literal notranslate"><span class="pre">2</span></code>.</p></li>
<li><p><strong>spike_rejection</strong> (<em>Optional</em>, int): Helps to differentiate between false events and actual lightning.
Increasing this value increases robustness at the cost of sensitivity to distant events. Defaults to <code class="docutils literal notranslate"><span class="pre">2</span></code>.</p></li>
<li><p><strong>lightning_threshold</strong> (<em>Optional</em>, int): The number of lightnings that must appear in a 15-minute time
window before a lightning storm is detected.
15 minutes is the window of time before the number of detected lightning events is reset.
The number of lightning strikes can be set to 1,5,9, or 16. Defaults to <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p></li>
<li><p><strong>mask_disturber</strong> (<em>Optional</em>, boolean): This setting will return whether or not disturbers trigger
the IRQ Pin. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>div_ratio</strong> (<em>Optional</em>, int): The antenna is designed to resonate at 500kHz and so can be tuned
with the following setting. The accuracy of the antenna must be within 3.5 percent of that value for
proper signal validation and distance estimation. Defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p></li>
<li><p><strong>capacitance</strong> (<em>Optional</em>, int): This setting will add capacitance to the series RLC antenna on the product
to help tune its resonance. The datasheet specifies being within 3.5 percent of 500kHz to get optimal lightning
detection and distance sensing. It’s possible to add up to 120pF in steps of 8pF to the antenna. Defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p></li>
<li><p><strong>watchdog_threshold</strong> (<em>Optional</em>, int): Determines the threshold for events that trigger the IRQ pin.
Defaults to <code class="docutils literal notranslate"><span class="pre">2</span></code>.</p></li>
</ul>
</section>
</section>
<section id="over-i2c">
<h2>Over I²C<a class="headerlink" href="#over-i2c" title="Permalink to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">as3935_i2c</span></code> sensor platform allows you to use your AS3935 sensor
(<a class="reference external" href="https://de.aliexpress.com/af/as3935.html?SearchText=as3935">AliExpress</a>, <a class="reference external" href="https://ams.com/as3935">AMS_AS3935</a>) in order to get notified when a thunderstorm is getting close.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example configuration for I²C (decide for one!)</span>
<span class="nt">as3935_i2c</span><span class="p">:</span>
<span class="w">  </span><span class="nt">irq_pin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GPIO12</span>
<span class="c1"># Example shared configuration</span>
<span class="nt">sensor</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">as3935</span>
<span class="w">    </span><span class="nt">lightning_energy</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Lightning</span><span class="nv"> </span><span class="s">Energy&quot;</span>
<span class="w">    </span><span class="nt">distance</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Distance</span><span class="nv"> </span><span class="s">Storm&quot;</span>
<span class="nt">binary_sensor</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">as3935</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Storm</span><span class="nv"> </span><span class="s">Alert&quot;</span>
</pre></div>
</div>
<section id="id1">
<h3>Configuration variables:<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>address</strong> (<em>Optional</em>, int): Manually specify the I²C address of
the sensor. Defaults to <code class="docutils literal notranslate"><span class="pre">0x03</span></code> (<code class="docutils literal notranslate"><span class="pre">A0</span></code> and <code class="docutils literal notranslate"><span class="pre">A1</span></code> pins pulled high).
The address is made up using the state of <code class="docutils literal notranslate"><span class="pre">A0</span></code> as bit 1 and the state of <code class="docutils literal notranslate"><span class="pre">A1</span></code> as bit 2, so a total of four addresses is possible.</p></li>
<li><p><strong>irq_pin</strong> (<strong>Required</strong>, <a class="reference internal" href="../../guides/configuration-types.html#config-pin"><span class="std std-ref">Pin</span></a>): The IRQ pin, which indicates if a lightning strike has been detected.</p></li>
<li><p><strong>indoor</strong> (<em>Optional</em>, boolean): Indicates if the sensor is used indoor. Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p><strong>noise_level</strong> (<em>Optional</em>, int): Noise floor level is compared to known reference voltage.
If this level is exceeded the chip will issue an interrupt to the IRQ pin, broadcasting that it can not
operate properly due to noise (INT_NH). Defaults to <code class="docutils literal notranslate"><span class="pre">2</span></code>.</p></li>
<li><p><strong>spike_rejection</strong> (<em>Optional</em>, int): Helps to differentiate between false events and actual lightning.
Increasing this value increases robustness at the cost of sensitivity to distant events. Defaults to <code class="docutils literal notranslate"><span class="pre">2</span></code>.</p></li>
<li><p><strong>lightning_threshold</strong> (<em>Optional</em>, int): The number of lightnings that must appear in a 15-minute time
window before a lightning storm is detected.
15 minutes is the window of time before the number of detected lightning events is reset.
The number of lightning strikes can be set to 1,5,9, or 16. Defaults to <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p></li>
<li><p><strong>mask_disturber</strong> (<em>Optional</em>, boolean): This setting will return whether or not disturbers trigger
the IRQ Pin. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>div_ratio</strong> (<em>Optional</em>, int): The antenna is designed to resonate at 500kHz and so can be tuned
with the following setting. The accuracy of the antenna must be within 3.5 percent of that value for
proper signal validation and distance estimation. Defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p></li>
<li><p><strong>capacitance</strong> (<em>Optional</em>, int): This setting will add capacitance to the series RLC antenna on the product
to help tune its resonance. The datasheet specifies being within 3.5 percent of 500kHz to get optimal lightning
detection and distance sensing. It’s possible to add up to 120pF in steps of 8pF to the antenna. Defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p></li>
<li><p><strong>watchdog_threshold</strong> (<em>Optional</em>, int): Determines the threshold for events that trigger the IRQ pin.
Defaults to <code class="docutils literal notranslate"><span class="pre">2</span></code>.</p></li>
</ul>
</section>
</section>
<section id="sensor">
<h2>Sensor<a class="headerlink" href="#sensor" title="Permalink to this heading">¶</a></h2>
<p>A sensor platform to read lightning data</p>
<p>Configuration variables:</p>
<ul class="simple">
<li><p><strong>lightning_energy</strong> (<em>Optional</em>): Lightning energy value. According to the datasheet this is only a pure value that doesn’t have any physical meaning.</p>
<ul>
<li><p><strong>name</strong> (<strong>Required</strong>, string): The name for the lightning energy sensor.</p></li>
<li><p><strong>id</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): Set the ID of this sensor for use in lambdas.</p></li>
<li><p>All other options from <a class="reference internal" href="index.html#config-sensor"><span class="std std-ref">Sensor</span></a>.</p></li>
</ul>
</li>
<li><p><strong>distance</strong> (<em>Optional</em>): Distance in km to the front of the storm and not the distance to a lightning strike.</p>
<ul>
<li><p><strong>name</strong> (<strong>Required</strong>, string): The name for the distance sensor.</p></li>
<li><p><strong>id</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): Set the ID of this sensor for use in lambdas.</p></li>
<li><p>All other options from <a class="reference internal" href="index.html#config-sensor"><span class="std std-ref">Sensor</span></a>.</p></li>
</ul>
</li>
</ul>
</section>
<section id="binary-sensor">
<h2>Binary Sensor<a class="headerlink" href="#binary-sensor" title="Permalink to this heading">¶</a></h2>
<p>Binary sensor that indicates if a lightning strike was detected.</p>
<p>Configuration variables:</p>
<ul class="simple">
<li><p><strong>name</strong> (<strong>Required</strong>, string): The name of the binary sensor.</p></li>
<li><p><strong>id</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): Manually specify the ID used for code generation.</p></li>
<li><p>All other options from <a class="reference internal" href="../binary_sensor/index.html#config-binary-sensor"><span class="std std-ref">Binary Sensor</span></a>.</p></li>
</ul>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="index.html#sensor-filters"><span class="std std-ref">Sensor Filters</span></a></p></li>
<li><p><a class="reference external" href="/api/as3935_8h.html">API Reference</a></p></li>
<li><p><a class="reference external" href="https://de.aliexpress.com/af/as3935.html?SearchText=as3935">AliExpress</a></p></li>
<li><p><a class="reference external" href="https://www.embeddedadventures.com/datasheets/AS3935_Datasheet_EN_v2.pdf">Data Sheet</a></p></li>
<li><p><a class="reference external" href="https://github.com/tardate/LittleArduinoProjects/tree/master/playground/AS3935">Little Arduino Projects</a></p></li>
<li><p><a class="reference external" href="https://ams.com/as3935">AMS AS3935</a></p></li>
<li><p><a class="reference external" href="https://github.com/sparkfun/SparkFun_AS3935_Lightning_Detector_Arduino_Library">SparkFun Library</a></p></li>
<li><p><a class="reference external" href="https://github.com/esphome/esphome-docs/blob/current/components/sensor/as3935.rst">Edit this page on GitHub</a></p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
  <div id="upgrade-footer">
    A new version has been release since you last visited this page: 2023.8.3 🎉
    <div class="footer-button-container">
      <div role="button" id="upgrade-footer-dismiss" class="footer-button">Dismiss</div>
      <a id="upgrade-footer-changelog" class="footer-button" href="/changelog/2023.8.0.html">View Changelog</a>
    </div>
  </div>
  <script>
    var old = window.localStorage.getItem("version");
    if (old === null || window.location.pathname.lastIndexOf("/changelog/", 0) === 0) { window.localStorage.setItem("version", "2023.8");
    } else if (old !== "2023.8") {
      const footerEl = document.getElementById("upgrade-footer");
      footerEl.classList.add("not-hidden");
      footerEl.addEventListener('click', function () {
        window.localStorage.setItem("version", "2023.8");
        footerEl.classList.remove("not-hidden");
      });
    }
  </script>

  </body>
</html>