
  <!DOCTYPE html>


<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<meta name="description" content="Instructions for setting up APDS9960 sensors.">
<meta itemprop="name" content="APDS9960 Sensor">
<meta itemprop="description" content="Instructions for setting up APDS9960 sensors.">
<meta itemprop="image" content="https://clydebarrow.github.io/esphome-docs/_images/apds9960.jpg">
<meta name="twitter:title" content="APDS9960 Sensor">
<meta name="twitter:image:src" content="https://clydebarrow.github.io/esphome-docs/_images/apds9960.jpg">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@OttoWinter_">
<meta name="twitter:description" content="Instructions for setting up APDS9960 sensors.">
<meta property="og:title" content="APDS9960 Sensor">
<meta property="og:image" content="https://clydebarrow.github.io/esphome-docs/_images/apds9960.jpg">
<meta property="og:type" content="website">
<meta property="og:description" content="Instructions for setting up APDS9960 sensors.">

    <title>APDS9960 Sensor &#8212; ESPHome</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../../_static/pygments_dark.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="canonical" href="https://clydebarrow.github.io/esphome-docs/components/sensor/apds9960.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="AMS AS3935 Franklin Lightning Sensor" href="as3935.html" />
    <link rel="prev" title="AM43 Sensor" href="am43.html" />
  <link rel="stylesheet" href="../../_static/custom.css?hash=ab494674" type="text/css" />
  <link rel="apple-touch-icon" sizes="180x180" href="_static/apple-touch-icon.png">
  <link rel="shortcut icon" href="_static/favicon.ico">
  <link rel="icon" type="image/png" sizes="512x512" href="_static/favicon-512x512.png">
  <link rel="icon" type="image/png" sizes="256x256" href="_static/favicon-256x256.png">
  <link rel="icon" type="image/png" sizes="192x192" href="_static/favicon-192x192.png">
  <link rel="icon" type="image/png" sizes="128x128" href="_static/favicon-128x128.png">
  <link rel="icon" type="image/png" sizes="32x32" href="_static/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="_static/favicon-16x16.png">
  <link rel="manifest" href="_static/site.webmanifest">
  <link rel="mask-icon" href="_static/safari-pinned-tab.svg" color="#646464">
  <meta name="apple-mobile-web-app-title" content="ESPHome">
  <meta name="application-name" content="ESPHome">
  <meta name="msapplication-TileColor" content="#dfdfdf">
  <meta name="msapplication-config" content="_static/browserconfig.xml">
  <meta name="theme-color" content="#dfdfdf">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta property="og:site_name" content="ESPHome">
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo-text.svg" alt="Logo"/>
            </a></p><link href="pagefind/pagefind-ui.css" rel="stylesheet">
<script src="pagefind/pagefind-ui.js"></script>

<div id="search"></div>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({ element: "#search", showSubResults: true });
    });
</script>

  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">APDS9960 Sensor</a><ul>
<li><a class="reference internal" href="#component-hub">Component/Hub</a></li>
<li><a class="reference internal" href="#configuration-variables">Configuration variables:</a></li>
<li><a class="reference internal" href="#sensor">Sensor</a></li>
<li><a class="reference internal" href="#binary-sensor">Binary Sensor</a></li>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting:</a></li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

  </div><hr />
<ul>
    <li><a href="https://discord.gg/KhAMKrd" target="_blank">Join the community</a></li>
    <li><a href="https://twitter.com/esphome_" target="_blank">Follow us on Twitter</a></li>
    <li><a href="https://github.com/esphome/esphome" target="_blank">Source Code</a></li>
    <li><a href="mailto:esphome@nabucasa.com">Contact</a> (no support!)</li>
</ul>
ESPHome is an open source project by <a href="https://www.nabucasa.com" target="_blank">Nabu Casa</a>
<ul>
    <li><a href="https://www.netlify.com" target="_blank">This site is powered by Netlify</a></li>
</ul>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
  
  <ul class="breadcrumbs">
      <li><a href="../index.html">Components</a> âž”</li>
      <li><a href="index.html">Sensor Component</a> âž”</li>
      <li>APDS9960 Sensor</li>
  </ul>
  


          <div class="body" role="main">
            
  <section id="apds9960-sensor">
<h1>APDS9960 Sensor<a class="headerlink" href="#apds9960-sensor" title="Permalink to this heading">Â¶</a></h1>
<section id="component-hub">
<span id="apds9960-component"></span><h2>Component/Hub<a class="headerlink" href="#component-hub" title="Permalink to this heading">Â¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">apds9960</span></code> sensor platform allows you to use your APDS9960 RGB and gesture sensors
(<a class="reference external" href="https://cdn.sparkfun.com/datasheets/Sensors/Proximity/apds9960.pdf">datasheet</a>,
<a class="reference external" href="https://www.sparkfun.com/products/12787">SparkFun</a>) with ESPHome.
The <a class="reference internal" href="../i2c.html#i2c"><span class="std std-ref">IÂ²C</span></a> is
required to be set up in your configuration for this sensor to work.</p>
<figure class="align-center" id="id1">
<a class="reference internal image-reference" href="../../_images/apds9960-full.jpg"><img alt="../../_images/apds9960-full.jpg" src="../../_images/apds9960-full.jpg" style="width: 80.0%;" /></a>
<figcaption>
<p><span class="caption-text">Image by <a class="reference external" href="https://www.sparkfun.com/products/12787">SparkFun</a>.</span><a class="headerlink" href="#id1" title="Permalink to this image">Â¶</a></p>
</figcaption>
</figure>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example configuration entry</span>
<span class="nt">apds9960</span><span class="p">:</span>
<span class="w">  </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0x39</span>
<span class="w">  </span><span class="nt">update_interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">60s</span>

<span class="nt">sensor</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">apds9960</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CLEAR</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;APDS9960</span><span class="nv"> </span><span class="s">Clear</span><span class="nv"> </span><span class="s">Channel&quot;</span>

<span class="nt">binary_sensor</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">apds9960</span>
<span class="w">    </span><span class="nt">direction</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">UP</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;APDS960</span><span class="nv"> </span><span class="s">Up</span><span class="nv"> </span><span class="s">Movement&quot;</span>
<span class="w">  </span><span class="c1"># Repeat for each direction</span>
</pre></div>
</div>
</section>
<section id="configuration-variables">
<h2>Configuration variables:<a class="headerlink" href="#configuration-variables" title="Permalink to this heading">Â¶</a></h2>
<p>The configuration is made up of three parts: The central component, individual sensors,
and direction binary sensors.</p>
<p>Base Configuration:</p>
<ul class="simple">
<li><p><strong>address</strong> (<em>Optional</em>, int): The IÂ²C address of the sensor. Defaults to <code class="docutils literal notranslate"><span class="pre">0x39</span></code>.</p></li>
<li><p><strong>update_interval</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-time"><span class="std std-ref">Time</span></a>): The interval
to check the sensor. Defaults to <code class="docutils literal notranslate"><span class="pre">60s</span></code>.</p></li>
<li><p><strong>led_drive</strong> (<em>Optional</em>, int): The LED drive level in mA. One of 100mA, 50mA, 25mA, 12.5mA. Defaults to <code class="docutils literal notranslate"><span class="pre">100mA</span></code>.</p></li>
<li><p><strong>proximity_gain</strong> (<em>Optional</em>, int): The proximity gain level. One of 1x, 2x, 4x, 8x. Defaults to <code class="docutils literal notranslate"><span class="pre">4x</span></code>.</p></li>
<li><p><strong>ambient_light_gain</strong> (<em>Optional</em>, int): The ambient light gain level. One of 1x, 4x, 16x, 64x. Defaults to <code class="docutils literal notranslate"><span class="pre">4x</span></code>.</p></li>
<li><p><strong>gesture_led_drive</strong> (<em>Optional</em>, int): The gesture LED drive level in mA. One of 100mA, 50mA, 25mA, 12.5mA. Defaults to <code class="docutils literal notranslate"><span class="pre">100mA</span></code>.</p></li>
<li><p><strong>gesture_gain</strong> (<em>Optional</em>, int): The proximity gain level. One of 1x, 2x, 4x, 8x. Defaults to <code class="docutils literal notranslate"><span class="pre">4x</span></code>.</p></li>
<li><p><strong>gesture_wait_time</strong> (<em>Optional</em>, int): The gesture wait time in ms. One of 0ms, 2.8ms, 5.6ms, 8.4ms, 14ms, 22.4ms, 30.8ms, 39.2ms. Defaults to <code class="docutils literal notranslate"><span class="pre">2.8ms</span></code>.</p></li>
</ul>
</section>
<section id="sensor">
<h2>Sensor<a class="headerlink" href="#sensor" title="Permalink to this heading">Â¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">apds9960</span></code> sensor allows you to use your <a class="reference internal" href="#"><span class="doc">APDS9960 Sensor</span></a> to perform different
measurements.</p>
<p>Configuration variables:</p>
<ul class="simple">
<li><p><strong>name</strong> (<strong>Required</strong>, string): The name for the sensor.</p></li>
<li><p><strong>type</strong> (<strong>Required</strong>, string): The type of sensor measurement. One of</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CLEAR</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RED</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GREEN</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BLUE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PROXIMITY</span></code></p></li>
</ul>
</li>
<li><p><strong>id</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): Set the ID of this sensor for use in lambdas.</p></li>
<li><p>All other options from <a class="reference internal" href="index.html#config-sensor"><span class="std std-ref">Sensor</span></a>.</p></li>
</ul>
</section>
<section id="binary-sensor">
<h2>Binary Sensor<a class="headerlink" href="#binary-sensor" title="Permalink to this heading">Â¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">apds9960</span></code> binary sensor allows you to use your <a class="reference internal" href="#"><span class="doc">APDS9960 Sensor</span></a> to perform different
measurements.</p>
<p>Configuration variables:</p>
<ul class="simple">
<li><p><strong>name</strong> (<strong>Required</strong>, string): The name for the binary sensor.</p></li>
<li><p><strong>direction</strong> (<strong>Required</strong>, string): The direction to measure. One of:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">UP</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DOWN</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LEFT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RIGHT</span></code></p></li>
</ul>
</li>
<li><p><strong>id</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): Manually specify the ID used for code generation.</p></li>
<li><p>All other options from <a class="reference internal" href="../binary_sensor/index.html#config-binary-sensor"><span class="std std-ref">Binary Sensor</span></a>.</p></li>
</ul>
</section>
<section id="troubleshooting">
<h2>Troubleshooting:<a class="headerlink" href="#troubleshooting" title="Permalink to this heading">Â¶</a></h2>
<p>With some APDS9960 modules the VL pin needs to be supplied with 3.3V for gesture sensing to work.  The VL pin provides power for the infrared LED that is used to detect gestures.  There may be two pads on the module which, if shorted with a solder joint, cause the main VCC power pin to supply power for the infrared LED as well.  However, providing a separate power supply via the VL pin may help to isolate the rest of the circuit from noise created by pulsing the infrared LED at relatively high power.</p>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this heading">Â¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="index.html#sensor-filters"><span class="std std-ref">Sensor Filters</span></a></p></li>
<li><p><a class="reference external" href="/api/apds9960_8h.html">API Reference</a></p></li>
<li><p><a class="reference external" href="https://github.com/esphome/esphome-docs/blob/current/components/sensor/apds9960.rst">Edit this page on GitHub</a></p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
  <div id="upgrade-footer">
    A new version has been release since you last visited this page: 2023.8.3 ðŸŽ‰
    <div class="footer-button-container">
      <div role="button" id="upgrade-footer-dismiss" class="footer-button">Dismiss</div>
      <a id="upgrade-footer-changelog" class="footer-button" href="changelog/2023.8.0.html">View Changelog</a>
    </div>
  </div>
  <script>
    var old = window.localStorage.getItem("version");
    if (old === null || window.location.pathname.lastIndexOf("changelog/", 0) === 0) { window.localStorage.setItem("version", "2023.8");
    } else if (old !== "2023.8") {
      const footerEl = document.getElementById("upgrade-footer");
      footerEl.classList.add("not-hidden");
      footerEl.addEventListener('click', function () {
        window.localStorage.setItem("version", "2023.8");
        footerEl.classList.remove("not-hidden");
      });
    }
  </script>

  </body>
</html>