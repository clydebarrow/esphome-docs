
  <!DOCTYPE html>


<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<meta name="description" content="Instructions for setting up SGP40/SGP41 Volatile Organic Compound and NOx sensor">
<meta itemprop="name" content="SGP40 Volatile Organic Compound Sensor and SGP41 VOC and NOx Sensor">
<meta itemprop="description" content="Instructions for setting up SGP40/SGP41 Volatile Organic Compound and NOx sensor">
<meta itemprop="image" content="https://clydebarrow.github.io/esphome-docs/_images/sgp40.jpg">
<meta name="twitter:title" content="SGP40 Volatile Organic Compound Sensor and SGP41 VOC and NOx Sensor">
<meta name="twitter:image:src" content="https://clydebarrow.github.io/esphome-docs/_images/sgp40.jpg">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@OttoWinter_">
<meta name="twitter:description" content="Instructions for setting up SGP40/SGP41 Volatile Organic Compound and NOx sensor">
<meta property="og:title" content="SGP40 Volatile Organic Compound Sensor and SGP41 VOC and NOx Sensor">
<meta property="og:image" content="https://clydebarrow.github.io/esphome-docs/_images/sgp40.jpg">
<meta property="og:type" content="website">
<meta property="og:description" content="Instructions for setting up SGP40/SGP41 Volatile Organic Compound and NOx sensor">

    <title>SGP40 Volatile Organic Compound Sensor and SGP41 VOC and NOx Sensor &#8212; ESPHome</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../../_static/pygments_dark.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="canonical" href="https://clydebarrow.github.io/esphome-docs/components/sensor/sgp4x.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="SHT3X-D Temperature+Humidity Sensor" href="sht3xd.html" />
    <link rel="prev" title="SGP30 CO₂ and Volatile Organic Compound Sensor" href="sgp30.html" />
  <link rel="stylesheet" href="../../_static/custom.css?hash=ab494674" type="text/css" />
  <link rel="apple-touch-icon" sizes="180x180" href="_static/apple-touch-icon.png">
  <link rel="shortcut icon" href="_static/favicon.ico">
  <link rel="icon" type="image/png" sizes="512x512" href="_static/favicon-512x512.png">
  <link rel="icon" type="image/png" sizes="256x256" href="_static/favicon-256x256.png">
  <link rel="icon" type="image/png" sizes="192x192" href="_static/favicon-192x192.png">
  <link rel="icon" type="image/png" sizes="128x128" href="_static/favicon-128x128.png">
  <link rel="icon" type="image/png" sizes="32x32" href="_static/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="_static/favicon-16x16.png">
  <link rel="manifest" href="_static/site.webmanifest">
  <link rel="mask-icon" href="_static/safari-pinned-tab.svg" color="#646464">
  <meta name="apple-mobile-web-app-title" content="ESPHome">
  <meta name="application-name" content="ESPHome">
  <meta name="msapplication-TileColor" content="#dfdfdf">
  <meta name="msapplication-config" content="_static/browserconfig.xml">
  <meta name="theme-color" content="#dfdfdf">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta property="og:site_name" content="ESPHome">
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo-text.svg" alt="Logo"/>
            </a></p><link href="pagefind/pagefind-ui.css" rel="stylesheet">
<script src="pagefind/pagefind-ui.js"></script>

<div id="search"></div>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({ element: "#search", showSubResults: true });
    });
</script>

  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">SGP40 Volatile Organic Compound Sensor and SGP41 VOC and NOx Sensor</a><ul>
<li><a class="reference internal" href="#configuration-variables">Configuration variables:</a></li>
<li><a class="reference internal" href="#example-with-compensation">Example With Compensation</a></li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

  </div><hr />
<ul>
    <li><a href="https://discord.gg/KhAMKrd" target="_blank">Join the community</a></li>
    <li><a href="https://twitter.com/esphome_" target="_blank">Follow us on Twitter</a></li>
    <li><a href="https://github.com/esphome/esphome" target="_blank">Source Code</a></li>
    <li><a href="mailto:esphome@nabucasa.com">Contact</a> (no support!)</li>
</ul>
ESPHome is an open source project by <a href="https://www.nabucasa.com" target="_blank">Nabu Casa</a>
<ul>
    <li><a href="https://www.netlify.com" target="_blank">This site is powered by Netlify</a></li>
</ul>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
  
  <ul class="breadcrumbs">
      <li><a href="../index.html">Components</a> ➔</li>
      <li><a href="index.html">Sensor Component</a> ➔</li>
      <li>SGP40 Volatile Organic Compound Sensor and SGP41 VOC and NOx Sensor</li>
  </ul>
  


          <div class="body" role="main">
            
  <section id="sgp40-volatile-organic-compound-sensor-and-sgp41-voc-and-nox-sensor">
<h1>SGP40 Volatile Organic Compound Sensor and SGP41 VOC and NOx Sensor<a class="headerlink" href="#sgp40-volatile-organic-compound-sensor-and-sgp41-voc-and-nox-sensor" title="Permalink to this heading">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">sgp4x</span></code> sensor platform allows you to use your Sensirion SGP40
(<a class="reference external" href="https://sensirion.com/media/documents/296373BB/6203C5DF/Sensirion_Gas_Sensors_Datasheet_SGP40.pdf">datasheet</a>) or SGP41
(<a class="reference external" href="https://sensirion.com/media/documents/5FE8673C/61E96F50/Sensirion_Gas_Sensors_Datasheet_SGP41.pdf">datasheet</a>) with ESPHome.
The type of sensor used is automatically detected.
The <a class="reference internal" href="../i2c.html#i2c"><span class="std std-ref">I²C Bus</span></a> is required to be set up in your configuration for this sensor to work.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This sensor need to be driven at a rate of 1Hz. Because of this, the
sensor will be read out on device once a second separately from the
update_interval.  The state will be reported to other components, or
the front end at the update_interval, saving wifi power and network
communication.</p>
</div>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/sgp401.jpg"><img alt="../../_images/sgp401.jpg" src="../../_images/sgp401.jpg" style="width: 80.0%;" /></a>
</figure>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example configuration entry</span>
<span class="nt">sensor</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sgp4x</span>
<span class="w">    </span><span class="nt">voc</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;VOC</span><span class="nv"> </span><span class="s">Index&quot;</span>
<span class="w">    </span><span class="nt">nox</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;NOx</span><span class="nv"> </span><span class="s">Index&quot;</span>
</pre></div>
</div>
<section id="configuration-variables">
<h2>Configuration variables:<a class="headerlink" href="#configuration-variables" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><strong>voc</strong> (<em>Optional</em>): VOC Index</p>
<ul>
<li><p><strong>name</strong> (<strong>Required</strong>, string): The name of the sensor.</p></li>
<li><p><strong>id</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): Manually specify the ID used for code generation.</p></li>
<li><p><strong>algorithm_tuning</strong> (<em>Optional</em>): The VOC algorithm can be customized by tuning 6 different parameters. For more details see <a class="reference external" href="https://sensirion.com/media/documents/25AB572C/62B463AA/Sensirion_Engineering_Guidelines_SEN5x.pdf">Engineering Guidelines for SEN5x</a></p>
<ul>
<li><p><strong>index_offset</strong> (<em>Optional</em>): VOC index representing typical (average) conditions. Allowed values are in range 1..250. The default value is 100.</p></li>
<li><p><strong>learning_time_offset_hours</strong> (<em>Optional</em>): Time constant to estimate the VOC algorithm offset from the history in hours. Past events will be forgotten after about twice the  learning time. Allowed values are in range 1..1000. The default value is 12 hour</p></li>
<li><p><strong>learning_time_gain_hours</strong> (<em>Optional</em>): Time constant to estimate the VOC algorithm gain from the history in hours. Past events will be forgotten after about twice the learning time. Allowed values are in range 1..1000. The default value is 12 hours.</p></li>
<li><p><strong>gating_max_duration_minutes</strong> (<em>Optional</em>): Maximum duration of gating in minutes (freeze of estimator during high VOC index signal). Zero disables the gating. Allowed values are in range 0..3000. The default value is 180 minutes</p></li>
<li><p><strong>std_initial</strong> (<em>Optional</em>): Initial estimate for standard deviation. Lower value boosts events during initial learning period, but may result in larger device-todevice variations. Allowed values are in range 10..5000. The default value is 50.</p></li>
<li><p><strong>gain_factor</strong> (<em>Optional</em>): Gain factor to amplify or to attenuate the VOC index output. Allowed values are in range 1..1000. The default value is 230.</p></li>
</ul>
</li>
<li><p>All other options from <a class="reference internal" href="index.html#config-sensor"><span class="std std-ref">Sensor</span></a>.</p></li>
</ul>
</li>
<li><p><strong>nox</strong> (<em>Optional</em>): NOx Index. Only available with SGP41. If a SGP40 sensor is detected this sensor will be ignored</p>
<ul>
<li><p><strong>name</strong> (<strong>Required</strong>, string): The name of the sensor.</p></li>
<li><p><strong>id</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): Manually specify the ID used for code generation.</p></li>
<li><p><strong>algorithm_tuning</strong> (<em>Optional</em>): The NOx algorithm can be customized by tuning 5 different parameters.For more details see <a class="reference external" href="https://sensirion.com/media/documents/25AB572C/62B463AA/Sensirion_Engineering_Guidelines_SEN5x.pdf">Engineering Guidelines for SEN5x</a></p>
<ul>
<li><p><strong>index_offset</strong> (<em>Optional</em>): NOx index representing typical (average) conditions. Allowed values are in range 1..250. The default value is 100.</p></li>
<li><p><strong>learning_time_offset_hours</strong> (<em>Optional</em>): Time constant to estimate the NOx algorithm offset from the history in hours. Past events will be forgotten after about twice the  learning time. Allowed values are in range 1..1000. The default value is 12 hour</p></li>
<li><p><strong>learning_time_gain_hours</strong> (<em>Optional</em>): Time constant to estimate the NOx algorithm gain from the history in hours. Past events will be forgotten after about twice the learning time. Allowed values are in range 1..1000. The default value is 12 hours.</p></li>
<li><p><strong>gating_max_duration_minutes</strong> (<em>Optional</em>): Maximum duration of gating in minutes (freeze of estimator during high NOx index signal). Zero disables the gating. Allowed values are in range 0..3000. The default value is 180 minutes</p></li>
<li><p><strong>std_initial</strong> (<em>Optional</em>): The initial estimate for standard deviation parameter has no impact for NOx. This parameter is still in place for consistency reasons with the VOC tuning parameters command. This parameter must always be set to 50.</p></li>
<li><p><strong>gain_factor</strong> (<em>Optional</em>): Gain factor to amplify or to attenuate the VOC index output. Allowed values are in range 1..1000. The default value is 230.</p></li>
</ul>
</li>
<li><p>All other options from <a class="reference internal" href="index.html#config-sensor"><span class="std std-ref">Sensor</span></a>.</p></li>
</ul>
</li>
<li><p><strong>update_interval</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-time"><span class="std std-ref">Time</span></a>): The interval to check the sensor. Defaults to <code class="docutils literal notranslate"><span class="pre">60s</span></code></p></li>
<li><p><strong>store_baseline</strong> (<em>Optional</em>, boolean): Stores and retrieves the baseline information for quicker startups. Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code></p></li>
<li><p><strong>compensation</strong> (<em>Optional</em>): The block containing sensors used for compensation. If not set defaults will be used.</p>
<ul>
<li><p><strong>temperature_source</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): Give an external temperature sensor ID
here. This can improve the sensor’s internal calculations. Defaults to <code class="docutils literal notranslate"><span class="pre">25</span></code></p></li>
<li><p><strong>humidity_source</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): Give an external humidity sensor ID
here. This can improve the sensor’s internal calculations. Defaults to <code class="docutils literal notranslate"><span class="pre">50</span></code></p></li>
</ul>
</li>
</ul>
</section>
<section id="example-with-compensation">
<h2>Example With Compensation<a class="headerlink" href="#example-with-compensation" title="Permalink to this heading">¶</a></h2>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example configuration entry</span>
<span class="nt">sensor</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sgp4x</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">voc</span><span class="p p-Indicator">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;VOC</span><span class="nv"> </span><span class="s">Index&quot;</span>
<span class="w">  </span><span class="w w-Error">  </span><span class="nt">nox</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;NOx</span><span class="nv"> </span><span class="s">Index&quot;</span>
<span class="w">    </span><span class="nt">compensation</span><span class="p">:</span>
<span class="w">      </span><span class="nt">humidity_source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dht1_hum</span>
<span class="w">      </span><span class="nt">temperature_source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dht1_temp</span>
</pre></div>
</div>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="index.html#sensor-filters"><span class="std std-ref">Sensor Filters</span></a></p></li>
<li><p><a class="reference internal" href="dht.html"><span class="doc">DHT Temperature+Humidity Sensor</span></a></p></li>
<li><p><a class="reference internal" href="dht12.html"><span class="doc">DHT12 Temperature+Humidity Sensor</span></a></p></li>
<li><p><a class="reference internal" href="hdc1080.html"><span class="doc">HDC1080 Temperature+Humidity Sensor</span></a></p></li>
<li><p><a class="reference internal" href="htu21d.html"><span class="doc">HTU21D | Si7021 | SHT21 Temperature &amp; Humidity Sensor</span></a></p></li>
<li><p><a class="reference internal" href="sht3xd.html"><span class="doc">SHT3X-D Temperature+Humidity Sensor</span></a></p></li>
<li><p><a class="reference internal" href="sht4x.html"><span class="doc">SHT4X Temperature and Humidity Sensor</span></a></p></li>
<li><p><a class="reference external" href="/api/sgp4x_8h.html">API Reference</a></p></li>
<li><p><a class="reference external" href="https://github.com/esphome/esphome-docs/blob/current/components/sensor/sgp4x.rst">Edit this page on GitHub</a></p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
  <div id="upgrade-footer">
    A new version has been release since you last visited this page: 2023.8.3 🎉
    <div class="footer-button-container">
      <div role="button" id="upgrade-footer-dismiss" class="footer-button">Dismiss</div>
      <a id="upgrade-footer-changelog" class="footer-button" href="changelog/2023.8.0.html">View Changelog</a>
    </div>
  </div>
  <script>
    var old = window.localStorage.getItem("version");
    if (old === null || window.location.pathname.lastIndexOf("changelog/", 0) === 0) { window.localStorage.setItem("version", "2023.8");
    } else if (old !== "2023.8") {
      const footerEl = document.getElementById("upgrade-footer");
      footerEl.classList.add("not-hidden");
      footerEl.addEventListener('click', function () {
        window.localStorage.setItem("version", "2023.8");
        footerEl.classList.remove("not-hidden");
      });
    }
  </script>

  </body>
</html>