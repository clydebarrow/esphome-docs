
  <!DOCTYPE html>


<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<meta name="description" content="Instructions for setting up number components in ESPHome.">
<meta itemprop="name" content="Number Component">
<meta itemprop="description" content="Instructions for setting up number components in ESPHome.">
<meta itemprop="image" content="https://esphome.io/_images/folder-open.png">
<meta name="twitter:title" content="Number Component">
<meta name="twitter:image:src" content="https://esphome.io/_images/folder-open.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@OttoWinter_">
<meta name="twitter:description" content="Instructions for setting up number components in ESPHome.">
<meta property="og:title" content="Number Component">
<meta property="og:image" content="https://esphome.io/_images/folder-open.png">
<meta property="og:type" content="website">
<meta property="og:description" content="Instructions for setting up number components in ESPHome.">

    <title>Number Component &#8212; ESPHome</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../../_static/pygments_dark.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="canonical" href="https://esphome.io/components/number/index.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Modbus Controller Number" href="modbus_controller.html" />
    <link rel="prev" title="Tuya Dimmer" href="../light/tuya.html" />
  <link rel="stylesheet" href="../../_static/custom.css?hash=ab494674" type="text/css" />
  <link rel="apple-touch-icon" sizes="180x180" href="/_static/apple-touch-icon.png">
  <link rel="shortcut icon" href="/_static/favicon.ico">
  <link rel="icon" type="image/png" sizes="512x512" href="/_static/favicon-512x512.png">
  <link rel="icon" type="image/png" sizes="256x256" href="/_static/favicon-256x256.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/_static/favicon-192x192.png">
  <link rel="icon" type="image/png" sizes="128x128" href="/_static/favicon-128x128.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/_static/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/_static/favicon-16x16.png">
  <link rel="manifest" href="/_static/site.webmanifest">
  <link rel="mask-icon" href="/_static/safari-pinned-tab.svg" color="#646464">
  <meta name="apple-mobile-web-app-title" content="ESPHome">
  <meta name="application-name" content="ESPHome">
  <meta name="msapplication-TileColor" content="#dfdfdf">
  <meta name="msapplication-config" content="/_static/browserconfig.xml">
  <meta name="theme-color" content="#dfdfdf">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta property="og:site_name" content="ESPHome">
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo-text.svg" alt="Logo"/>
            </a></p><link href="/pagefind/pagefind-ui.css" rel="stylesheet">
<script src="/pagefind/pagefind-ui.js"></script>

<div id="search"></div>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({ element: "#search", showSubResults: true });
    });
</script>

  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Number Component</a><ul>
<li><a class="reference internal" href="#base-number-configuration">Base Number Configuration</a></li>
<li><a class="reference internal" href="#number-automation">Number Automation</a><ul>
<li><a class="reference internal" href="#on-value"><code class="docutils literal notranslate"><span class="pre">on_value</span></code></a></li>
<li><a class="reference internal" href="#on-value-range"><code class="docutils literal notranslate"><span class="pre">on_value_range</span></code></a></li>
<li><a class="reference internal" href="#number-in-range-condition"><code class="docutils literal notranslate"><span class="pre">number.in_range</span></code> Condition</a></li>
<li><a class="reference internal" href="#number-set-action"><code class="docutils literal notranslate"><span class="pre">number.set</span></code> Action</a></li>
<li><a class="reference internal" href="#number-increment-action"><code class="docutils literal notranslate"><span class="pre">number.increment</span></code> Action</a></li>
<li><a class="reference internal" href="#number-decrement-action"><code class="docutils literal notranslate"><span class="pre">number.decrement</span></code> Action</a></li>
<li><a class="reference internal" href="#number-to-min-action"><code class="docutils literal notranslate"><span class="pre">number.to_min</span></code> Action</a></li>
<li><a class="reference internal" href="#number-to-max-action"><code class="docutils literal notranslate"><span class="pre">number.to_max</span></code> Action</a></li>
<li><a class="reference internal" href="#number-operation-action"><code class="docutils literal notranslate"><span class="pre">number.operation</span></code> Action</a></li>
<li><a class="reference internal" href="#lambda-calls">lambda calls</a></li>
</ul>
</li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

  </div><hr />
<ul>
    <li><a href="https://discord.gg/KhAMKrd" target="_blank">Join the community</a></li>
    <li><a href="https://twitter.com/esphome_" target="_blank">Follow us on Twitter</a></li>
    <li><a href="https://github.com/esphome/esphome" target="_blank">Source Code</a></li>
    <li><a href="mailto:esphome@nabucasa.com">Contact</a> (no support!)</li>
</ul>
ESPHome is an open source project by <a href="https://www.nabucasa.com" target="_blank">Nabu Casa</a>
<ul>
    <li><a href="https://www.netlify.com" target="_blank">This site is powered by Netlify</a></li>
</ul>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
  
  <ul class="breadcrumbs">
      <li><a href="../index.html">Components</a> ➔</li>
      <li>Number Component</li>
  </ul>
  


          <div class="body" role="main">
            
  <section id="number-component">
<h1>Number Component<a class="headerlink" href="#number-component" title="Permalink to this heading">¶</a></h1>
<p>ESPHome has support for components to create a number entity. A number entity is
like a sensor that can read a value from a device, but is useful when that value
can be set by the user/frontend.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Home Assistant Core 2021.7 or higher is required for ESPHome number entities to work.</p>
</div>
<section id="base-number-configuration">
<span id="config-number"></span><h2>Base Number Configuration<a class="headerlink" href="#base-number-configuration" title="Permalink to this heading">¶</a></h2>
<p>All numbers in ESPHome have a name and an optional icon.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example number configuration</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Livingroom Volume</span>

<span class="c1"># Optional variables:</span>
<span class="nt">icon</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mdi:volume-high&quot;</span>
</pre></div>
</div>
<p>Configuration variables:</p>
<ul>
<li><p><strong>name</strong> (<strong>Required</strong>, string): The name for the number.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you have a <a class="reference internal" href="../esphome.html#esphome-configuration-variables"><span class="std std-ref">friendly_name</span></a> set for your device and
you want the number to use that name, you can set <code class="docutils literal notranslate"><span class="pre">name:</span> <span class="pre">None</span></code>.</p>
</div>
</li>
<li><p><strong>icon</strong> (<em>Optional</em>, icon): Manually set the icon to use for the number in the frontend.</p></li>
<li><p><strong>internal</strong> (<em>Optional</em>, boolean): Mark this component as internal. Internal components will
not be exposed to the frontend (like Home Assistant). Only specifying an <code class="docutils literal notranslate"><span class="pre">id</span></code> without
a <code class="docutils literal notranslate"><span class="pre">name</span></code> will implicitly set this to true.</p></li>
<li><p><strong>disabled_by_default</strong> (<em>Optional</em>, boolean): If true, then this entity should not be added to any client’s frontend,
(usually Home Assistant) without the user manually enabling it (via the Home Assistant UI).
Requires Home Assistant 2021.9 or newer. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>entity_category</strong> (<em>Optional</em>, string): The category of the entity.
See <a class="reference external" href="https://developers.home-assistant.io/docs/core/entity/#generic-properties">https://developers.home-assistant.io/docs/core/entity/#generic-properties</a>
for a list of available options. Requires Home Assistant 2021.11 or newer.
Set to <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code> to remove the default entity category.</p></li>
<li><p><strong>unit_of_measurement</strong> (<em>Optional</em>, string): Manually set the unit
of measurement for the number. Requires Home Assistant Core 2021.12 or newer.</p></li>
<li><p><strong>mode</strong> (<em>Optional</em>, string): Defines how the number should be displayed in the frontend.
See <a class="reference external" href="https://developers.home-assistant.io/docs/core/entity/number/#properties">https://developers.home-assistant.io/docs/core/entity/number/#properties</a>
for a list of available options. Requires Home Assistant Core 2021.12 or newer.
Defaults to <code class="docutils literal notranslate"><span class="pre">&quot;auto&quot;</span></code>.</p></li>
<li><p><strong>device_class</strong> (<em>Optional</em>, string): The device class for the number.
See <a class="reference external" href="https://developers.home-assistant.io/docs/core/entity/number/#available-device-classes">https://developers.home-assistant.io/docs/core/entity/number/#available-device-classes</a>
for a list of available options.</p></li>
</ul>
<p>Automations:</p>
<ul class="simple">
<li><p><strong>on_value</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/automations.html#automation"><span class="std std-ref">Automation</span></a>): An automation to perform
when a new value is published. See <a class="reference internal" href="#number-on-value"><span class="std std-ref">on_value</span></a>.</p></li>
<li><p><strong>on_value_range</strong> (<em>Optional</em>, <a class="reference internal" href="../../guides/automations.html#automation"><span class="std std-ref">Automation</span></a>): An automation to perform
when a published value transition from outside to a range to inside. See <a class="reference internal" href="#number-on-value-range"><span class="std std-ref">on_value_range</span></a>.</p></li>
</ul>
<p>MQTT Options:</p>
<ul class="simple">
<li><p>All other options from <a class="reference internal" href="../mqtt.html#config-mqtt-component"><span class="std std-ref">MQTT Component</span></a>.</p></li>
</ul>
</section>
<section id="number-automation">
<h2>Number Automation<a class="headerlink" href="#number-automation" title="Permalink to this heading">¶</a></h2>
<p>You can access the most recent state of the number in <a class="reference internal" href="../../guides/automations.html#config-lambda"><span class="std std-ref">lambdas</span></a> using
<code class="docutils literal notranslate"><span class="pre">id(number_id).state</span></code>.</p>
<section id="on-value">
<span id="number-on-value"></span><h3><code class="docutils literal notranslate"><span class="pre">on_value</span></code><a class="headerlink" href="#on-value" title="Permalink to this heading">¶</a></h3>
<p>This automation will be triggered when a new value is published. In <a class="reference internal" href="../../guides/automations.html#config-lambda"><span class="std std-ref">Lambdas</span></a>
you can get the value from the trigger with <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">number</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">template</span>
<span class="w">    </span><span class="c1"># ...</span>
<span class="w">    </span><span class="nt">on_value</span><span class="p">:</span>
<span class="w">      </span><span class="nt">then</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">light.turn_on</span><span class="p">:</span>
<span class="w">            </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">light_1</span>
<span class="w">            </span><span class="nt">red</span><span class="p">:</span><span class="w"> </span><span class="kt">!lambda</span><span class="w"> </span><span class="s">&quot;return</span><span class="nv"> </span><span class="s">x/255;&quot;</span>
</pre></div>
</div>
<p>Configuration variables: See <a class="reference internal" href="../../guides/automations.html#automation"><span class="std std-ref">Automation</span></a>.</p>
</section>
<section id="on-value-range">
<span id="number-on-value-range"></span><h3><code class="docutils literal notranslate"><span class="pre">on_value_range</span></code><a class="headerlink" href="#on-value-range" title="Permalink to this heading">¶</a></h3>
<p>With this automation you can observe if a number value passes from outside
a defined range of values to inside a range.
This trigger will only trigger when the new value is inside the range and the previous value
was outside the range. On startup, the last state before reboot is restored and if the value crossed
the boundary during the boot process, the trigger is also executed.</p>
<p>Define the range with <code class="docutils literal notranslate"><span class="pre">above</span></code> and <code class="docutils literal notranslate"><span class="pre">below</span></code>. If only one of them is defined, the interval is half-open.
So for example <code class="docutils literal notranslate"><span class="pre">above:</span> <span class="pre">5</span></code> with no below would mean the range from 5 to positive infinity.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">number</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">template</span>
<span class="w">    </span><span class="c1"># ...</span>
<span class="w">    </span><span class="nt">on_value_range</span><span class="p">:</span>
<span class="w">      </span><span class="nt">above</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">      </span><span class="nt">below</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">      </span><span class="nt">then</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">switch.turn_on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">relay_1</span>
</pre></div>
</div>
<p>Configuration variables:</p>
<ul class="simple">
<li><p><strong>above</strong> (<em>Optional</em>, float): The minimum for the trigger.</p></li>
<li><p><strong>below</strong> (<em>Optional</em>, float): The maximum for the trigger.</p></li>
<li><p>See <a class="reference internal" href="../../guides/automations.html#automation"><span class="std std-ref">Automation</span></a>.</p></li>
</ul>
</section>
<section id="number-in-range-condition">
<span id="id1"></span><h3><code class="docutils literal notranslate"><span class="pre">number.in_range</span></code> Condition<a class="headerlink" href="#number-in-range-condition" title="Permalink to this heading">¶</a></h3>
<p>This condition passes if the state of the given number is inside a range.</p>
<p>Define the range with <code class="docutils literal notranslate"><span class="pre">above</span></code> and <code class="docutils literal notranslate"><span class="pre">below</span></code>. If only one of them is defined, the interval is half-open.
So for example <code class="docutils literal notranslate"><span class="pre">above:</span> <span class="pre">5</span></code> with no below would mean the range from 5 to positive infinity.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># in a trigger:</span>
<span class="nt">on_...</span><span class="p">:</span>
<span class="w">  </span><span class="nt">if</span><span class="p">:</span>
<span class="w">    </span><span class="nt">condition</span><span class="p">:</span>
<span class="w">      </span><span class="nt">number.in_range</span><span class="p">:</span>
<span class="w">        </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_number</span>
<span class="w">        </span><span class="nt">above</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50.0</span>
<span class="w">    </span><span class="nt">then</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">script.execute</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_script</span>
</pre></div>
</div>
<p>Configuration variables:</p>
<ul class="simple">
<li><p><strong>above</strong> (<em>Optional</em>, float): The minimum for the condition.</p></li>
<li><p><strong>below</strong> (<em>Optional</em>, float): The maximum for the condition.</p></li>
</ul>
</section>
<section id="number-set-action">
<span id="id2"></span><h3><code class="docutils literal notranslate"><span class="pre">number.set</span></code> Action<a class="headerlink" href="#number-set-action" title="Permalink to this heading">¶</a></h3>
<p>This is an <a class="reference internal" href="../../guides/automations.html#config-action"><span class="std std-ref">Action</span></a> for setting a number state.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">number.set</span><span class="p">:</span>
<span class="w">    </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_number</span>
<span class="w">    </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">42</span>
</pre></div>
</div>
<p>Configuration variables:</p>
<ul class="simple">
<li><p><strong>id</strong> (<strong>Required</strong>, <a class="reference internal" href="../../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): The ID of the number to set.</p></li>
<li><p><strong>value</strong> (<strong>Required</strong>, float, <a class="reference internal" href="../../guides/automations.html#config-templatable"><span class="std std-ref">templatable</span></a>):
The value to set the number to.</p></li>
</ul>
</section>
<section id="number-increment-action">
<span id="id3"></span><h3><code class="docutils literal notranslate"><span class="pre">number.increment</span></code> Action<a class="headerlink" href="#number-increment-action" title="Permalink to this heading">¶</a></h3>
<p>This is an <a class="reference internal" href="../../guides/automations.html#config-action"><span class="std std-ref">Action</span></a> for incrementing a number value by its
step size (default: 1).</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">number.increment</span><span class="p">:</span>
<span class="w">    </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_number</span>
<span class="w">    </span><span class="nt">cycle</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="c1"># Shorthand</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">number.increment</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_number</span>
</pre></div>
</div>
<p>Configuration variables:</p>
<ul class="simple">
<li><p><strong>id</strong> (<strong>Required</strong>, <a class="reference internal" href="../../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): The ID of the number component to update.</p></li>
<li><p><strong>cycle</strong> (<em>Optional</em>, boolean): Whether or not to set the number to its minimum
value when the increment pushes the value beyond its maximum value. This will only
work when the number component uses a minimum and maximum value.
Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
</ul>
</section>
<section id="number-decrement-action">
<span id="id4"></span><h3><code class="docutils literal notranslate"><span class="pre">number.decrement</span></code> Action<a class="headerlink" href="#number-decrement-action" title="Permalink to this heading">¶</a></h3>
<p>This is an <a class="reference internal" href="../../guides/automations.html#config-action"><span class="std std-ref">Action</span></a> for decrementing a number value by its
step size (default: 1).</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">number.decrement</span><span class="p">:</span>
<span class="w">    </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_number</span>
<span class="w">    </span><span class="nt">cycle</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="c1"># Shorthand</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">number.decrement</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_number</span>
</pre></div>
</div>
<p>Configuration variables:</p>
<ul class="simple">
<li><p><strong>id</strong> (<strong>Required</strong>, <a class="reference internal" href="../../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): The ID of the number component to update.</p></li>
<li><p><strong>cycle</strong> (<em>Optional</em>, boolean): Whether or not to set the number to its maximum
value when the decrement pushes the value below its minimum value. This will only
work when the number component uses a minimum and maximum value.
Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
</ul>
</section>
<section id="number-to-min-action">
<span id="id5"></span><h3><code class="docutils literal notranslate"><span class="pre">number.to_min</span></code> Action<a class="headerlink" href="#number-to-min-action" title="Permalink to this heading">¶</a></h3>
<p>This is an <a class="reference internal" href="../../guides/automations.html#config-action"><span class="std std-ref">Action</span></a> seting a number to its minimum value, given
a number component that has a minimum value defined for it.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">number.to_min</span><span class="p">:</span>
<span class="w">    </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_number</span>

<span class="c1"># Shorthand</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">number.to_min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_number</span>
</pre></div>
</div>
<p>Configuration variables:</p>
<ul class="simple">
<li><p><strong>id</strong> (<strong>Required</strong>, <a class="reference internal" href="../../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): The ID of the number component to update.</p></li>
</ul>
</section>
<section id="number-to-max-action">
<span id="id6"></span><h3><code class="docutils literal notranslate"><span class="pre">number.to_max</span></code> Action<a class="headerlink" href="#number-to-max-action" title="Permalink to this heading">¶</a></h3>
<p>This is an <a class="reference internal" href="../../guides/automations.html#config-action"><span class="std std-ref">Action</span></a> seting a number to its maximum value (given
a number component that has a maximum value defined for it.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">number.to_max</span><span class="p">:</span>
<span class="w">    </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_number</span>

<span class="c1"># Shorthand</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">number.to_max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_number</span>
</pre></div>
</div>
<p>Configuration variables:</p>
<ul class="simple">
<li><p><strong>id</strong> (<strong>Required</strong>, <a class="reference internal" href="../../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): The ID of the number component to update.</p></li>
</ul>
</section>
<section id="number-operation-action">
<span id="id7"></span><h3><code class="docutils literal notranslate"><span class="pre">number.operation</span></code> Action<a class="headerlink" href="#number-operation-action" title="Permalink to this heading">¶</a></h3>
<p>This is an <a class="reference internal" href="../../guides/automations.html#config-action"><span class="std std-ref">Action</span></a> that can be used to perform an operation
on a number component (set to minimum or maximum value, decrement, increment),
using a generic templatable action call.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Using values</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">number.operation</span><span class="p">:</span>
<span class="w">    </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_number</span>
<span class="w">    </span><span class="nt">operation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Increment</span>
<span class="w">    </span><span class="nt">cycle</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="c1"># Or templated (lambda)</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">number.operation</span><span class="p">:</span>
<span class="w">    </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_number</span>
<span class="w">    </span><span class="nt">operation</span><span class="p">:</span><span class="w"> </span><span class="kt">!lambda</span><span class="w"> </span><span class="s">&quot;return</span><span class="nv"> </span><span class="s">NUMBER_OP_INCREMENT;&quot;</span>
<span class="w">    </span><span class="nt">cycle</span><span class="p">:</span><span class="w"> </span><span class="kt">!lambda</span><span class="w"> </span><span class="s">&quot;return</span><span class="nv"> </span><span class="s">true;&quot;</span>
</pre></div>
</div>
<p>Configuration variables:</p>
<ul class="simple">
<li><p><strong>id</strong> (<strong>Required</strong>, <a class="reference internal" href="../../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): The ID of the number to update.</p></li>
<li><p><strong>operation</strong> (<strong>Required</strong>, string, <a class="reference internal" href="../../guides/automations.html#config-templatable"><span class="std std-ref">templatable</span></a>):
What operation to perform on the number component. One of <code class="docutils literal notranslate"><span class="pre">TO_MIN</span></code>,
<code class="docutils literal notranslate"><span class="pre">TO_MAX</span></code>, <code class="docutils literal notranslate"><span class="pre">DECREMENT</span></code> or <code class="docutils literal notranslate"><span class="pre">INCREMENT</span></code> (case insensitive). When writing a
lambda for this field, then return one of the following enum values:
<code class="docutils literal notranslate"><span class="pre">NUMBER_OP_TO_MIN</span></code>, <code class="docutils literal notranslate"><span class="pre">NUMBER_OP_TO_MAX</span></code>, <code class="docutils literal notranslate"><span class="pre">NUMBER_OP_DECREMENT</span></code> or
<code class="docutils literal notranslate"><span class="pre">NUMBER_OP_INCREMENT</span></code>.</p></li>
<li><p><strong>cycle</strong> (<em>Optional</em>, bool, <a class="reference internal" href="../../guides/automations.html#config-templatable"><span class="std std-ref">templatable</span></a>):
Can be used with <code class="docutils literal notranslate"><span class="pre">DECREMENT</span></code> or <code class="docutils literal notranslate"><span class="pre">INCREMENT</span></code> to specify whether or not to
wrap around the value when respectively the minimum or maximum value of the
number is exceeded.</p></li>
</ul>
</section>
<section id="lambda-calls">
<span id="number-lambda-calls"></span><h3>lambda calls<a class="headerlink" href="#lambda-calls" title="Permalink to this heading">¶</a></h3>
<p>From <a class="reference internal" href="../../guides/automations.html#config-lambda"><span class="std std-ref">lambdas</span></a>, you can call several methods on all numbers to do some
advanced stuff (see the full API Reference for more info).</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">.make_call()</span></code>: Make a call for updating the number value.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Within lambda, push a value of 42</span>
<span class="k">auto</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">id</span><span class="p">(</span><span class="n">my_number</span><span class="p">).</span><span class="n">make_call</span><span class="p">();</span>
<span class="n">call</span><span class="p">.</span><span class="n">set_value</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span>
<span class="n">call</span><span class="p">.</span><span class="n">perform</span><span class="p">();</span>
</pre></div>
</div>
<p>Check the API reference for information on the methods that are available for
the <code class="docutils literal notranslate"><span class="pre">NumberCall</span></code> object. You can for example also use <code class="docutils literal notranslate"><span class="pre">call.number_to_min()</span></code>
to set the number to its minimum value or <code class="docutils literal notranslate"><span class="pre">call.number_increment(true)</span></code> to increment
the number by its step size with the cycle feature enabled.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">.state</span></code>: Retrieve the current value of the number. Is <code class="docutils literal notranslate"><span class="pre">NAN</span></code> if no value has been read or set.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// For example, create a custom log message when a value is received:</span>
<span class="n">ESP_LOGI</span><span class="p">(</span><span class="s">&quot;main&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Value of my number: %f&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">(</span><span class="n">my_number</span><span class="p">).</span><span class="n">state</span><span class="p">);</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="/api/number_8h.html">Number </a></p></li>
<li><p><a class="reference external" href="/api/number__call_8h.html">NumberCall </a></p></li>
<li><p><a class="reference external" href="https://github.com/esphome/esphome-docs/blob/current/components/number/index.rst">Edit this page on GitHub</a></p></li>
</ul>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="modbus_controller.html">Modbus Controller Number</a></li>
<li class="toctree-l1"><a class="reference internal" href="template.html">Template Number</a></li>
<li class="toctree-l1"><a class="reference internal" href="tuya.html">Tuya Number</a></li>
</ul>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
  <div id="upgrade-footer">
    A new version has been release since you last visited this page: 2023.8.3 🎉
    <div class="footer-button-container">
      <div role="button" id="upgrade-footer-dismiss" class="footer-button">Dismiss</div>
      <a id="upgrade-footer-changelog" class="footer-button" href="/changelog/2023.8.0.html">View Changelog</a>
    </div>
  </div>
  <script>
    var old = window.localStorage.getItem("version");
    if (old === null || window.location.pathname.lastIndexOf("/changelog/", 0) === 0) { window.localStorage.setItem("version", "2023.8");
    } else if (old !== "2023.8") {
      const footerEl = document.getElementById("upgrade-footer");
      footerEl.classList.add("not-hidden");
      footerEl.addEventListener('click', function () {
        window.localStorage.setItem("version", "2023.8");
        footerEl.classList.remove("not-hidden");
      });
    }
  </script>

  </body>
</html>