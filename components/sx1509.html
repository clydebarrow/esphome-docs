
  <!DOCTYPE html>


<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<meta name="description" content="Instructions for setting up SX1509 16 channel I/O expander in ESPHome.">
<meta itemprop="name" content="SX1509 16 channel I/O Expander with LED driver and keypad engine">
<meta itemprop="description" content="Instructions for setting up SX1509 16 channel I/O expander in ESPHome.">
<meta itemprop="image" content="https://clydebarrow.github.io/esphome-docs/_images/sx1509.jpg">
<meta name="twitter:title" content="SX1509 16 channel I/O Expander with LED driver and keypad engine">
<meta name="twitter:image:src" content="https://clydebarrow.github.io/esphome-docs/_images/sx1509.jpg">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@OttoWinter_">
<meta name="twitter:description" content="Instructions for setting up SX1509 16 channel I/O expander in ESPHome.">
<meta property="og:title" content="SX1509 16 channel I/O Expander with LED driver and keypad engine">
<meta property="og:image" content="https://clydebarrow.github.io/esphome-docs/_images/sx1509.jpg">
<meta property="og:type" content="website">
<meta property="og:description" content="Instructions for setting up SX1509 16 channel I/O expander in ESPHome.">

    <title>SX1509 16 channel I/O Expander with LED driver and keypad engine &#8212; ESPHome</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../_static/pygments_dark.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="canonical" href="https://clydebarrow.github.io/esphome-docs/components/sx1509.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="TCA9548A I²C Multiplexer" href="tca9548a.html" />
    <link rel="prev" title="Sun" href="sun.html" />
  <link rel="stylesheet" href="../_static/custom.css?hash=ab494674" type="text/css" />
  <link rel="apple-touch-icon" sizes="180x180" href="_static/apple-touch-icon.png">
  <link rel="shortcut icon" href="_static/favicon.ico">
  <link rel="icon" type="image/png" sizes="512x512" href="_static/favicon-512x512.png">
  <link rel="icon" type="image/png" sizes="256x256" href="_static/favicon-256x256.png">
  <link rel="icon" type="image/png" sizes="192x192" href="_static/favicon-192x192.png">
  <link rel="icon" type="image/png" sizes="128x128" href="_static/favicon-128x128.png">
  <link rel="icon" type="image/png" sizes="32x32" href="_static/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="_static/favicon-16x16.png">
  <link rel="manifest" href="_static/site.webmanifest">
  <link rel="mask-icon" href="_static/safari-pinned-tab.svg" color="#646464">
  <meta name="apple-mobile-web-app-title" content="ESPHome">
  <meta name="application-name" content="ESPHome">
  <meta name="msapplication-TileColor" content="#dfdfdf">
  <meta name="msapplication-config" content="_static/browserconfig.xml">
  <meta name="theme-color" content="#dfdfdf">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta property="og:site_name" content="ESPHome">
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo-text.svg" alt="Logo"/>
            </a></p><link href="pagefind/pagefind-ui.css" rel="stylesheet">
<script src="pagefind/pagefind-ui.js"></script>

<div id="search"></div>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({ element: "#search", showSubResults: true });
    });
</script>

  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">SX1509 16 channel I/O Expander with LED driver and keypad engine</a><ul>
<li><a class="reference internal" href="#configuration-variables">Configuration variables:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#binary-sensor">Binary Sensor</a><ul>
<li><a class="reference internal" href="#id1">Configuration variables:</a></li>
<li><a class="reference internal" href="#pin-configuration-variables">Pin configuration variables:</a></li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

  </div><hr />
<ul>
    <li><a href="https://discord.gg/KhAMKrd" target="_blank">Join the community</a></li>
    <li><a href="https://twitter.com/esphome_" target="_blank">Follow us on Twitter</a></li>
    <li><a href="https://github.com/esphome/esphome" target="_blank">Source Code</a></li>
    <li><a href="mailto:esphome@nabucasa.com">Contact</a> (no support!)</li>
</ul>
ESPHome is an open source project by <a href="https://www.nabucasa.com" target="_blank">Nabu Casa</a>
<ul>
    <li><a href="https://www.netlify.com" target="_blank">This site is powered by Netlify</a></li>
</ul>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
  
  <ul class="breadcrumbs">
      <li><a href="index.html">Components</a> ➔</li>
      <li>SX1509 16 channel I/O Expander with LED driver and keypad engine</li>
  </ul>
  


          <div class="body" role="main">
            
  <section id="sx1509-16-channel-i-o-expander-with-led-driver-and-keypad-engine">
<h1>SX1509 16 channel I/O Expander with LED driver and keypad engine<a class="headerlink" href="#sx1509-16-channel-i-o-expander-with-led-driver-and-keypad-engine" title="Permalink to this heading">¶</a></h1>
<p>The SX1509 component allows you to expand your I/O capabilities:
(<a class="reference external" href="https://www.semtech.com/uploads/documents/sx1509_evk_users_guide.pdf">datasheet</a>,
<a class="reference external" href="https://learn.sparkfun.com/tutorials/sx1509-io-expander-breakout-hookup-guide/all">SparkFun</a>) in ESPHome. It uses <a class="reference internal" href="i2c.html#i2c"><span class="std std-ref">I²C Bus</span></a> for communication.</p>
<p>Once configured, you can use any of the 16 pins as pins for your projects.
Within ESPHome they emulate a real internal GPIO pin
and can therefore be used with many of ESPHome’s components such as the GPIO
binary sensor or GPIO switch.
The SX1509 can do much more than just simple digital pin control. It can produce PWM signals.
And, with a built-in keypad engine, it can interface with up to 64 buttons set up in an 8x8 matrix.</p>
<p>Any option accepting a <a class="reference internal" href="../guides/configuration-types.html#config-pin-schema"><span class="std std-ref">Pin Schema</span></a> can theoretically be used, but some more
complicated components that use the pin schema will not work. For example the I²C or SPI pins.</p>
<figure class="align-center" id="id2">
<a class="reference internal image-reference" href="../_images/sx1509-full.jpg"><img alt="../_images/sx1509-full.jpg" src="../_images/sx1509-full.jpg" style="width: 80.0%;" /></a>
<figcaption>
<p><span class="caption-text">SX1509 16 channel I/O Expander.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example configuration entry for the SX1509 device</span>
<span class="nt">sx1509</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sx1509_hub1</span>
<span class="w">    </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0x3E</span>
<span class="w">    </span><span class="c1"># If you need a keypad</span>
<span class="w">    </span><span class="nt">keypad</span><span class="p">:</span>
<span class="w">      </span><span class="nt">key_rows</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="w">      </span><span class="nt">key_columns</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<span class="w">      </span><span class="nt">sleep_time</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">256</span>
<span class="w">      </span><span class="nt">scan_time</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">      </span><span class="nt">debounce_time</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div>
</div>
<section id="configuration-variables">
<h2>Configuration variables:<a class="headerlink" href="#configuration-variables" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><strong>id</strong> (<strong>Required</strong>, <a class="reference internal" href="../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): The id to use for this SX1509 component.</p></li>
<li><p><strong>address</strong> (<em>Optional</em>, int): The I²C address of the driver.
Defaults to <code class="docutils literal notranslate"><span class="pre">0x3E</span></code>.</p></li>
</ul>
<p>The SX1509 integrates a fully programmable keypad scanning engine to implement keypad applications.
up to 8x8 matrix (i.e. 64 keys).</p>
<ul class="simple">
<li><p><strong>keypad</strong> (<em>Optional</em>): Add this to enable the keypad.</p>
<ul>
<li><p><strong>key_rows</strong> (<strong>Required</strong>, int): The number of keypad rows to use. This enables any number of the first 7 pins.
So a value of 3 enables pins 0,1,2 to be used as the rows for the keypad matrix. This value must be between 1 and 8.</p></li>
<li><p><strong>key_columns</strong> (<strong>Required</strong>, int): The number of keypad columns to use. This enables any number of the last 7 pins.
So a value of 4 enables pins 8,9,10,11 to be used as the columns for the keypad matrix. This value must be between 1 and 8.</p></li>
<li><p><strong>sleep_time</strong> (<em>Optional</em>, int): No key press within this time will set keypad engine to sleep.</p></li>
<li><p><strong>scan_time</strong> (<em>Optional</em>, int): Scan time per row (must be set above debounce time).</p></li>
<li><p><strong>debounce_time</strong> (<em>Optional</em>, int): The debounce time is common to all IOs.</p></li>
</ul>
</li>
</ul>
<figure class="align-center" id="id3">
<a class="reference internal image-reference" href="../_images/sx1509-keypad.jpg"><img alt="../_images/sx1509-keypad.jpg" src="../_images/sx1509-keypad.jpg" style="width: 80.0%;" /></a>
<figcaption>
<p><span class="caption-text">SX1509 pins for keypad setup (image from the datasheet).</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>Attention should be paid to the capabilities of the I/O pins.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head" rowspan="2"><p>#</p></th>
<th class="head" rowspan="2"><p>pin function</p></th>
<th class="head" colspan="2" rowspan="2"><p>Keypad</p></th>
</tr>
<tr class="row-even"></tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>I/O</p></td>
<td><p>input output PWM</p></td>
<td><p>Row</p></td>
<td><p>Column</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>✓</p></td>
<td><p>✓</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>✓</p></td>
<td><p>✓</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>✓</p></td>
<td><p>✓</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>✓</p></td>
<td><p>✓</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>✓</p></td>
<td><p>✓</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>✓</p></td>
<td><p>✓</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>✓</p></td>
<td><p>✓</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>✓</p></td>
<td><p>✓</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>✓</p></td>
<td></td>
<td><p>✓</p></td>
</tr>
<tr class="row-odd"><td><p>9</p></td>
<td><p>✓</p></td>
<td></td>
<td><p>✓</p></td>
</tr>
<tr class="row-even"><td><p>10</p></td>
<td><p>✓</p></td>
<td></td>
<td><p>✓</p></td>
</tr>
<tr class="row-odd"><td><p>11</p></td>
<td><p>✓</p></td>
<td></td>
<td><p>✓</p></td>
</tr>
<tr class="row-even"><td><p>12</p></td>
<td><p>✓</p></td>
<td></td>
<td><p>✓</p></td>
</tr>
<tr class="row-odd"><td><p>13</p></td>
<td><p>✓</p></td>
<td></td>
<td><p>✓</p></td>
</tr>
<tr class="row-even"><td><p>14</p></td>
<td><p>✓</p></td>
<td></td>
<td><p>✓</p></td>
</tr>
<tr class="row-odd"><td><p>15</p></td>
<td><p>✓</p></td>
<td></td>
<td><p>✓</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="binary-sensor">
<h1>Binary Sensor<a class="headerlink" href="#binary-sensor" title="Permalink to this heading">¶</a></h1>
<p>To use the individual keys on the keypad you need to add individual binary_sensor entries in the config.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># individual binary_sensor for keypad keys</span>
<span class="nt">binary_sensor</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sx1509</span>
<span class="w">    </span><span class="nt">sx1509_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sx1509_hub1</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;keypadkey_0&quot;</span>
<span class="w">    </span><span class="nt">row</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">    </span><span class="nt">col</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sx1509</span>
<span class="w">    </span><span class="nt">sx1509_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sx1509_hub1</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;keypadkey_1&quot;</span>
<span class="w">    </span><span class="nt">row</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">    </span><span class="nt">col</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div>
</div>
<section id="id1">
<h2>Configuration variables:<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><strong>row</strong> (<strong>Required</strong>, int): The row number for this key on the keypad.</p></li>
<li><p><strong>col</strong> (<strong>Required</strong>, int): The column number for this key on the keypad.</p></li>
</ul>
</section>
<section id="pin-configuration-variables">
<h2>Pin configuration variables:<a class="headerlink" href="#pin-configuration-variables" title="Permalink to this heading">¶</a></h2>
<p>With the following configuration items you may use the individual pins of the SX1509 as the pins for binary_sensor, switch, or output.
The outputs can in turn be used to add PWM-enabled lights like the monochromatic light.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># individual binary_sensor inputs</span>
<span class="nt">binary_sensor</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gpio</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;SX1509</span><span class="nv"> </span><span class="s">Pin</span><span class="nv"> </span><span class="s">#0&quot;</span>
<span class="w">    </span><span class="nt">pin</span><span class="p">:</span>
<span class="w">      </span><span class="nt">sx1509</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sx1509_hub1</span>
<span class="w">      </span><span class="c1"># Use pin number 0 on the SX1509</span>
<span class="w">      </span><span class="nt">number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">      </span><span class="nt">mode</span><span class="p">:</span>
<span class="w">        </span><span class="nt">input</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">        </span><span class="nt">pullup</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">      </span><span class="nt">inverted</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="c1"># Individual binary outputs</span>
<span class="nt">switch</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gpio</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;SX1509</span><span class="nv"> </span><span class="s">Pin</span><span class="nv"> </span><span class="s">#1&quot;</span>
<span class="w">    </span><span class="nt">pin</span><span class="p">:</span>
<span class="w">      </span><span class="nt">sx1509</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sx1509_hub1</span>
<span class="w">      </span><span class="c1"># Use pin number 1 on the SX1509</span>
<span class="w">      </span><span class="nt">number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="c1"># use as output for switch</span>
<span class="w">      </span><span class="nt">mode</span><span class="p">:</span>
<span class="w">        </span><span class="nt">output</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">      </span><span class="nt">inverted</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="c1"># Individual outputs</span>
<span class="nt">output</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sx1509</span>
<span class="w">    </span><span class="nt">sx1509_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sx1509_hub1</span>
<span class="w">    </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;sx1509_output&#39;</span>
<span class="w">    </span><span class="c1"># Use pin number 2 on the SX1509</span>
<span class="w">    </span><span class="nt">pin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>

<span class="c1"># lights can then use the configured output</span>
<span class="nt">light</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">monochromatic</span>
<span class="w">    </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">light0</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;light0&quot;</span>
<span class="w">    </span><span class="nt">output</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sx1509_output</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>sx1509</strong> (<strong>Required</strong>, <a class="reference internal" href="../guides/configuration-types.html#config-id"><span class="std std-ref">ID</span></a>): The id of the SX1509 component of the pin.</p></li>
<li><p><strong>number</strong> (<strong>Required</strong>, int): The pin number.</p></li>
<li><p><strong>inverted</strong> (<em>Optional</em>, boolean): If all read and written values
should be treated as inverted. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>mode</strong> (<em>Optional</em>, string): A pin mode to set for the pin at. One of <code class="docutils literal notranslate"><span class="pre">INPUT</span></code>,
<code class="docutils literal notranslate"><span class="pre">INPUT_PULLUP</span></code> or <code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code>.</p></li>
</ul>
<p>And naturally you may use all automation functions with these SX1509 binary_sensors, switches and output (lights).</p>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="i2c.html#i2c"><span class="std std-ref">I²C Bus</span></a></p></li>
<li><p><a class="reference internal" href="switch/gpio.html"><span class="doc">GPIO Switch</span></a></p></li>
<li><p><a class="reference internal" href="binary_sensor/gpio.html"><span class="doc">GPIO Binary Sensor</span></a></p></li>
<li><p><a class="reference internal" href="light/monochromatic.html"><span class="doc">Monochromatic Light</span></a></p></li>
<li><p><a class="reference external" href="/api/sx1509_8h.html">API Reference</a></p></li>
<li><p><a class="reference external" href="https://github.com/esphome/esphome-docs/blob/current/components/sx1509.rst">Edit this page on GitHub</a></p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
  <div id="upgrade-footer">
    A new version has been release since you last visited this page: 2023.8.3 🎉
    <div class="footer-button-container">
      <div role="button" id="upgrade-footer-dismiss" class="footer-button">Dismiss</div>
      <a id="upgrade-footer-changelog" class="footer-button" href="changelog/2023.8.0.html">View Changelog</a>
    </div>
  </div>
  <script>
    var old = window.localStorage.getItem("version");
    if (old === null || window.location.pathname.lastIndexOf("changelog/", 0) === 0) { window.localStorage.setItem("version", "2023.8");
    } else if (old !== "2023.8") {
      const footerEl = document.getElementById("upgrade-footer");
      footerEl.classList.add("not-hidden");
      footerEl.addEventListener('click', function () {
        window.localStorage.setItem("version", "2023.8");
        footerEl.classList.remove("not-hidden");
      });
    }
  </script>

  </body>
</html>