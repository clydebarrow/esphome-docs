
  <!DOCTYPE html>


<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<meta name="description" content="Getting Started guide for installing ESPHome Dashboard as a Home Assistant add-on and creating a basic configuration.">
<meta itemprop="name" content="Getting Started with ESPHome and Home Assistant">
<meta itemprop="description" content="Getting Started guide for installing ESPHome Dashboard as a Home Assistant add-on and creating a basic configuration.">
<meta itemprop="image" content="https://clydebarrow.github.io/esphome-docs/_images/home-assistant.png">
<meta name="twitter:title" content="Getting Started with ESPHome and Home Assistant">
<meta name="twitter:image:src" content="https://clydebarrow.github.io/esphome-docs/_images/home-assistant.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@OttoWinter_">
<meta name="twitter:description" content="Getting Started guide for installing ESPHome Dashboard as a Home Assistant add-on and creating a basic configuration.">
<meta property="og:title" content="Getting Started with ESPHome and Home Assistant">
<meta property="og:image" content="https://clydebarrow.github.io/esphome-docs/_images/home-assistant.png">
<meta property="og:type" content="website">
<meta property="og:description" content="Getting Started guide for installing ESPHome Dashboard as a Home Assistant add-on and creating a basic configuration.">

    <title>Getting Started with ESPHome and Home Assistant &#8212; ESPHome</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../_static/pygments_dark.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="canonical" href="https://clydebarrow.github.io/esphome-docs/guides/getting_started_hassio.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Installing ESPHome Manually" href="installing_esphome.html" />
    <link rel="prev" title="Getting Started with the ESPHome Command Line" href="getting_started_command_line.html" />
  <link rel="stylesheet" href="../_static/custom.css?hash=ab494674" type="text/css" />
  <link rel="apple-touch-icon" sizes="180x180" href="_static/apple-touch-icon.png">
  <link rel="shortcut icon" href="_static/favicon.ico">
  <link rel="icon" type="image/png" sizes="512x512" href="_static/favicon-512x512.png">
  <link rel="icon" type="image/png" sizes="256x256" href="_static/favicon-256x256.png">
  <link rel="icon" type="image/png" sizes="192x192" href="_static/favicon-192x192.png">
  <link rel="icon" type="image/png" sizes="128x128" href="_static/favicon-128x128.png">
  <link rel="icon" type="image/png" sizes="32x32" href="_static/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="_static/favicon-16x16.png">
  <link rel="manifest" href="_static/site.webmanifest">
  <link rel="mask-icon" href="_static/safari-pinned-tab.svg" color="#646464">
  <meta name="apple-mobile-web-app-title" content="ESPHome">
  <meta name="application-name" content="ESPHome">
  <meta name="msapplication-TileColor" content="#dfdfdf">
  <meta name="msapplication-config" content="_static/browserconfig.xml">
  <meta name="theme-color" content="#dfdfdf">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta property="og:site_name" content="ESPHome">
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo-text.svg" alt="Logo"/>
            </a></p><link href="pagefind/pagefind-ui.css" rel="stylesheet">
<script src="pagefind/pagefind-ui.js"></script>

<div id="search"></div>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({ element: "#search", showSubResults: true });
    });
</script>

  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Getting Started with ESPHome and Home Assistant</a><ul>
<li><a class="reference internal" href="#installing-esphome-dashboard">Installing ESPHome Dashboard</a></li>
<li><a class="reference internal" href="#dashboard-interface">Dashboard Interface</a></li>
<li><a class="reference internal" href="#adding-some-basic-features">Adding some (basic) features</a></li>
<li><a class="reference internal" href="#connecting-your-device-to-home-assistant">Connecting your device to Home Assistant</a></li>
<li><a class="reference internal" href="#adding-a-binary-sensor">Adding A Binary Sensor</a></li>
<li><a class="reference internal" href="#where-to-go-next">Where To Go Next</a></li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

  </div><hr />
<ul>
    <li><a href="https://discord.gg/KhAMKrd" target="_blank">Join the community</a></li>
    <li><a href="https://twitter.com/esphome_" target="_blank">Follow us on Twitter</a></li>
    <li><a href="https://github.com/esphome/esphome" target="_blank">Source Code</a></li>
    <li><a href="mailto:esphome@nabucasa.com">Contact</a> (no support!)</li>
</ul>
ESPHome is an open source project by <a href="https://www.nabucasa.com" target="_blank">Nabu Casa</a>
<ul>
    <li><a href="https://www.netlify.com" target="_blank">This site is powered by Netlify</a></li>
</ul>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
  
  <ul class="breadcrumbs">
      <li><a href="index.html">Guides</a> ➔</li>
      <li>Getting Started with ESPHome and Home Assistant</li>
  </ul>
  


          <div class="body" role="main">
            
  <section id="getting-started-with-esphome-and-home-assistant">
<h1>Getting Started with ESPHome and Home Assistant<a class="headerlink" href="#getting-started-with-esphome-and-home-assistant" title="Permalink to this heading">¶</a></h1>
<p>In this guide we’ll go through how to install ESPHome on a device using the ESPHome Dashboard, installed as a Home Assistant add-on.</p>
<p>But first, here’s a very quick introduction to how ESPHome works:
ESPHome is a <em>tool</em> which aims to make managing your ESP boards as simple as possible. It reads in a YAML configuration file and creates custom firmware which it installs on your ESP device. Devices or sensors added in ESPHome’s configuration will automatically show up in Home Assistant’s UI.</p>
<section id="installing-esphome-dashboard">
<h2>Installing ESPHome Dashboard<a class="headerlink" href="#installing-esphome-dashboard" title="Permalink to this heading">¶</a></h2>
<p>The ESPHome Dashboard can be installed as a Home Assistant add-on, which you can find in the add-on store in the Supervisor panel. Open it using the following button then click on INSTALL:</p>
<p>If you do not have the official ESPHome add-on repository added you can add with this button:</p>
<a href="https://my.home-assistant.io/redirect/supervisor_addon/?addon=5c53de3b_esphome&repository_url=https%3A%2F%2Fgithub.com%2Fesphome%2Fhome-assistant-addon" target="_blank">
    <img src="https://my.home-assistant.io/badges/supervisor_addon.svg" alt="Open your Home Assistant instance and show the dashboard of the ESPHome add-on." />
</a><p>After that, wait a bit until it is installed (this can take a while). Click “Start” and then click “Open Web UI”. If you see “502: Bad Gateway” it is currently starting, and you can refresh the page after a couple of seconds.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/hassio_addon.png"><img alt="../_images/hassio_addon.png" src="../_images/hassio_addon.png" style="width: 75.0%;" /></a>
</figure>
<p>You should now be greeted by a nice introduction wizard which will step you through
creating your first configuration.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/dashboard_empty.png"><img alt="../_images/dashboard_empty.png" src="../_images/dashboard_empty.png" style="width: 95.0%;" /></a>
</figure>
<p>The wizard will guide you through creating your first configuration and, depending on your browser, install it on your ESP device. You will need to name your configuration and enter your wireless network settings so that the ESP device can come online and can communicate with Home Assistant.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The most difficult part of setting up a new ESPHome device is the initial installation. Installation requires that your ESP device is connected with a cable to a computer. Later updates can be installed wirelessly.</p>
<p>For guidance on making this first connection, see <a class="reference internal" href="physical_device_connection.html"><span class="doc">Physically Connecting to your Device</span></a></p>
</div>
</section>
<section id="dashboard-interface">
<h2>Dashboard Interface<a class="headerlink" href="#dashboard-interface" title="Permalink to this heading">¶</a></h2>
<p>Assuming you created your first configuration file with the wizard, let’s take a quick
tour of the ESPHome Dashboard interface.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/dashboard_states.png"><img alt="../_images/dashboard_states.png" src="../_images/dashboard_states.png" style="width: 95.0%;" /></a>
</figure>
<p>On the front page you will see all configurations for nodes you created. For each file,
there are a few basic actions you can perform:</p>
<ul class="simple">
<li><p><strong>UPDATE</strong>: This button will show up if the device has not been installed with the same ESPHome version currently running.</p></li>
<li><p><strong>EDIT</strong>: This will open the configuration editor.</p></li>
<li><p><strong>LOGS</strong>: With this command you can view all the logs the node is outputting. If a USB device is
connected, you can choose to use the serial connection. Otherwise it will use the built-in OTA logs.</p></li>
<li><p><strong>Overflow menu</strong>: This is a dropdown menu which allows you to perform more actions.</p>
<ul>
<li><p><strong>Validate</strong>: This will validate the configuration file.</p></li>
<li><p><strong>Install</strong>: Opens the Install dialog.</p></li>
<li><p><strong>Clean Build Files</strong>: This will delete all of the generated build files and is a safe operation to perform. Sometimes old files are not removed and can cause compile issues later on.</p></li>
<li><p><strong>Delete</strong>: This will delete the configuration file.</p></li>
</ul>
</li>
</ul>
<p>The configuration files for ESPHome can be found and edited under <code class="docutils literal notranslate"><span class="pre">&lt;HOME_ASSISTANT_CONFIG&gt;/esphome/</span></code>.
For example the configuration for the <code class="docutils literal notranslate"><span class="pre">garage-door</span></code> node in the picture above can be found
in <code class="docutils literal notranslate"><span class="pre">/config/esphome/garage-door.yaml</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since Home Assistant add-ons run as individual containers, accessing these through
command line is not very straightforward, but it’s possible. To do that,
install Home Assistant’s SSH addon, configure a username and a password,
and disable <cite>Protection Mode</cite> (please assess the risks you take with that).
Then, for example to access the logs form a device through an SSH client,
log in, and you can use a command like
<cite>docker exec -it addon_15ef4d2f_esphome esphome logs /config/esphome/garage-door.yaml</cite>.
See <a class="reference internal" href="getting_started_command_line.html"><span class="doc">Getting Started with the ESPHome Command Line</span></a> for more.</p>
</div>
<p>Now go ahead and use one of the <a class="reference internal" href="../index.html#devices"><span class="std std-ref">devices guides</span></a> to extend your configuration.</p>
</section>
<section id="adding-some-basic-features">
<h2>Adding some (basic) features<a class="headerlink" href="#adding-some-basic-features" title="Permalink to this heading">¶</a></h2>
<p>So now you should have a file called <code class="docutils literal notranslate"><span class="pre">/config/esphome/livingroom.yaml</span></code> (or similar).
Go open that file (in any text editor) and add a <a class="reference internal" href="../components/switch/gpio.html"><span class="doc">simple GPIO switch</span></a>
to the configuration like this:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">switch</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gpio</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Living</span><span class="nv"> </span><span class="s">Room</span><span class="nv"> </span><span class="s">Dehumidifier&quot;</span>
<span class="w">    </span><span class="nt">pin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
</pre></div>
</div>
<p>In above example, we’re simply adding a switch that’s called “Living Room Dehumidifier” (could control
anything really, for example lights) and is connected to the pin <code class="docutils literal notranslate"><span class="pre">GPIO5</span></code>.</p>
</section>
<section id="connecting-your-device-to-home-assistant">
<h2>Connecting your device to Home Assistant<a class="headerlink" href="#connecting-your-device-to-home-assistant" title="Permalink to this heading">¶</a></h2>
<p>Once your configuration is installed on your ESP device and is online, it will be automatically discovered by Home Assistant and offered to set up on your integrations screen:</p>
<a href="https://my.home-assistant.io/redirect/config_flow_start/?domain=esphome" target="_blank"><img src="https://my.home-assistant.io/badges/config_flow_start.svg" alt="Open your Home Assistant instance and start setting up a new integration." /></a><p>Alternatively, you can manually add the device on the Home Assistant Integrations page.  Click on the “Add Integration” button (bottom right), search for esphome, and enter the host name, eg: “&lt;NODE_NAME&gt;.local” as the host.  Use the same process to add multiple esphome devices.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/gpio-ui.png"><img alt="../_images/gpio-ui.png" src="../_images/gpio-ui.png" style="width: 75.0%;" /></a>
</figure>
<p>After the first installation, you will probably never need to use the USB
cable again, as all features of ESPHome are enabled remotely as well.</p>
</section>
<section id="adding-a-binary-sensor">
<h2>Adding A Binary Sensor<a class="headerlink" href="#adding-a-binary-sensor" title="Permalink to this heading">¶</a></h2>
<p>Next, we’re going to add a very simple binary sensor that periodically
checks a GPIO pin to see whether it’s pulled high or low - the <a class="reference internal" href="../components/binary_sensor/gpio.html"><span class="doc">GPIO Binary
Sensor</span></a>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">binary_sensor</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gpio</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Living</span><span class="nv"> </span><span class="s">Room</span><span class="nv"> </span><span class="s">Window&quot;</span>
<span class="w">    </span><span class="nt">pin</span><span class="p">:</span>
<span class="w">      </span><span class="nt">number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">16</span>
<span class="w">      </span><span class="nt">inverted</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">      </span><span class="nt">mode</span><span class="p">:</span>
<span class="w">        </span><span class="nt">input</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">        </span><span class="nt">pullup</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
<p>This time when installing, you don’t need to have the device plugged in
through USB again. The upload will happen wirelessly (<a class="reference internal" href="../components/ota.html"><span class="doc">“over the air”</span></a>).</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/gpio-ui1.png"><img alt="../_images/gpio-ui1.png" src="../_images/gpio-ui1.png" style="width: 75.0%;" /></a>
</figure>
</section>
<section id="where-to-go-next">
<h2>Where To Go Next<a class="headerlink" href="#where-to-go-next" title="Permalink to this heading">¶</a></h2>
<p>Great 🎉! You’ve now successfully setup your first ESPHome project
and installed your first ESPHome custom firmware to your node. You’ve
also learned how to enable some basic components via the configuration
file.</p>
<p>So now is a great time to go take a look at the <a class="reference internal" href="../index.html"><span class="doc">Components Index</span></a>.
Hopefully you’ll find all sensors/outputs/… you’ll need in there. If you’re having any problems or
want new features, please either create a new issue on the <a class="reference external" href="https://github.com/esphome/issues/issues">GitHub issue
tracker</a> or find us on the
<a class="reference external" href="https://discord.gg/KhAMKrd">Discord chat</a> (also make sure to read the <a class="reference internal" href="faq.html"><span class="doc">FAQ</span></a>).</p>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="../index.html"><span class="doc">ESPHome index</span></a></p></li>
<li><p><a class="reference internal" href="getting_started_command_line.html"><span class="doc">Getting Started with the ESPHome Command Line</span></a></p></li>
<li><p><a class="reference external" href="https://github.com/esphome/esphome-docs/blob/current/guides/getting_started_hassio.rst">Edit this page on GitHub</a></p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
  <div id="upgrade-footer">
    A new version has been release since you last visited this page: 2023.8.3 🎉
    <div class="footer-button-container">
      <div role="button" id="upgrade-footer-dismiss" class="footer-button">Dismiss</div>
      <a id="upgrade-footer-changelog" class="footer-button" href="changelog/2023.8.0.html">View Changelog</a>
    </div>
  </div>
  <script>
    var old = window.localStorage.getItem("version");
    if (old === null || window.location.pathname.lastIndexOf("changelog/", 0) === 0) { window.localStorage.setItem("version", "2023.8");
    } else if (old !== "2023.8") {
      const footerEl = document.getElementById("upgrade-footer");
      footerEl.classList.add("not-hidden");
      footerEl.addEventListener('click', function () {
        window.localStorage.setItem("version", "2023.8");
        footerEl.classList.remove("not-hidden");
      });
    }
  </script>

  </body>
</html>